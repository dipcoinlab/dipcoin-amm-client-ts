"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class t extends Error{}class r extends t{constructor(t,r){super(t),this.code=r,this.type=e[r]??"ServerError"}}class n extends t{constructor(e,t,r){super(e),this.status=t,this.statusText=r}}var i,s,o,a,u,c,l,h,d,f=e=>{throw TypeError(e)},p=(e,t,r)=>t.has(e)||f("Cannot "+r),g=(e,t,r)=>(p(e,t,"read from private field"),r?r.call(e):t.get(e)),y=(e,t,r)=>t.has(e)?f("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),m=(e,t,r,n)=>(p(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),w=(e,t,r)=>(p(e,t,"access private method"),r);const b={WebSocketConstructor:"undefined"!=typeof WebSocket?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class v{constructor(e,t={}){if(y(this,l),y(this,i,0),y(this,s,0),y(this,o,null),y(this,a,null),y(this,u,new Set),y(this,c,new Map),this.endpoint=e,this.options={...b,...t},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=function(e){const t=new URL(e);return t.protocol=t.protocol.replace("http","ws"),t.toString()}(this.endpoint))}async makeRequest(e,t){const n=await w(this,l,h).call(this);return new Promise((r,s)=>{m(this,i,g(this,i)+1),g(this,c).set(g(this,i),{resolve:r,reject:s,timeout:setTimeout(()=>{g(this,c).delete(g(this,i)),s(new Error(`Request timeout: ${e}`))},this.options.callTimeout)}),n.send(JSON.stringify({jsonrpc:"2.0",id:g(this,i),method:e,params:t}))}).then(({error:e,result:t})=>{if(e)throw new r(e.message,e.code);return t})}async subscribe(e){const t=new E(e);return g(this,u).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,l=new WeakSet,h=function(){return g(this,a)||m(this,a,new Promise(e=>{g(this,o)?.close(),m(this,o,new this.options.WebSocketConstructor(this.endpoint)),g(this,o).addEventListener("open",()=>{m(this,s,0),e(g(this,o))}),g(this,o).addEventListener("close",()=>{var e,t,r,n;(e=this,t=s,{set _(n){m(e,t,n,r)},get _(){return g(e,t,n)}})._++,g(this,s)<=this.options.maxReconnects&&setTimeout(()=>{w(this,l,d).call(this)},this.options.reconnectTimeout)}),g(this,o).addEventListener("message",({data:e})=>{let t;try{t=JSON.parse(e)}catch(e){return}if("id"in t&&null!=t.id&&g(this,c).has(t.id)){const{resolve:e,timeout:r}=g(this,c).get(t.id);clearTimeout(r),e(t)}else if("params"in t){const{params:e}=t;g(this,u).forEach(t=>{t.subscriptionId===e.subscription&&e.subscription===t.subscriptionId&&t.onMessage(e.result)})}})})),g(this,a)},d=async function(){return g(this,o)?.close(),m(this,a,null),Promise.allSettled([...g(this,u)].map(e=>e.subscribe(this)))};class E{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:t}=this;return this.subscribed=!1,null!=t&&(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const t=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=t)}}var S,O,I,x,A,j=e=>{throw TypeError(e)},k=(e,t,r)=>t.has(e)||j("Cannot "+r),T=(e,t,r)=>(k(e,t,"read from private field"),r?r.call(e):t.get(e)),U=(e,t,r)=>t.has(e)?j("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),B=(e,t,r,n)=>(k(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);class C{constructor(e){U(this,x),U(this,S,0),U(this,O),U(this,I),B(this,O,e)}fetch(e,t){const r=T(this,O).fetch??fetch;if(!r)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(e,t)}async request(e){B(this,S,T(this,S)+1);const t=await this.fetch(T(this,O).rpc?.url??T(this,O).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":"1.26.0","Client-Target-Api-Version":"1.47.0","Client-Request-Method":e.method,...T(this,O).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:T(this,S),method:e.method,params:e.params})});if(!t.ok)throw new n(`Unexpected status code: ${t.status}`,t.status,t.statusText);const i=await t.json();if("error"in i&&null!=i.error)throw new r(i.error.message,i.error.code);return i.result}async subscribe(e){const t=await(r=this,n=x,i=A,k(r,n,"access private method"),i).call(this).subscribe(e);var r,n,i;return async()=>!!await t()}}function $(e){switch(e){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${e}`)}}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function M(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function _(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function N(e){if("function"!=typeof e)throw new Error("function expected");return!0}function P(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function R(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function L(e){if(!Array.isArray(e))throw new Error("array expected")}function D(e,t){if(!_(!0,t))throw new Error(`${e}: array of strings expected`)}function z(e,t){if(!_(!1,t))throw new Error(`${e}: array of numbers expected`)}function V(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function q(e){const t="string"==typeof e?e.split(""):e,r=t.length;D("alphabet",t);const n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(L(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(L(t),t.map(t=>{P("alphabet.decode",t);const r=n.get(t);if(void 0===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function F(e=""){return P("join",e),{encode:t=>(D("join.decode",t),t.join(e)),decode:t=>(P("join.decode",t),t.split(e))}}function G(e,t="="){return R(e),P("padding",t),{encode(r){for(D("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){D("padding.decode",r);let n=r.length;if(n*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--){if((n-1)*e%8==0)throw new Error("padding: invalid, string has too much padding")}return r.slice(0,n)}}}function W(e){return N(e),{encode:e=>e,decode:t=>e(t)}}function X(e,t,r){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(L(e),!e.length)return[];let n=0;const i=[],s=Array.from(e,e=>{if(R(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e}),o=s.length;for(;;){let e=0,a=!0;for(let i=n;i<o;i++){const o=s[i],u=t*e,c=u+o;if(!Number.isSafeInteger(c)||u/t!==e||c-o!==u)throw new Error("convertRadix: carry overflow");const l=c/r;e=c%r;const h=Math.floor(l);if(s[i]=h,!Number.isSafeInteger(h)||h*r+e!==c)throw new Error("convertRadix: carry overflow");a&&(h?a=!1:n=i)}if(i.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}S=new WeakMap,O=new WeakMap,I=new WeakMap,x=new WeakSet,A=function(){if(!T(this,I)){const e=T(this,O).WebSocketConstructor??WebSocket;if(!e)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");B(this,I,new v(T(this,O).websocket?.url??T(this,O).url,{WebSocketConstructor:e,...T(this,O).websocket}))}return T(this,I)};const H=(e,t)=>0===t?e:H(t,e%t),K=(e,t)=>e+(t-H(e,t)),Y=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Z(e,t,r,n){if(L(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(K(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${K(t,r)}`);let i=0,s=0;const o=Y[t],a=Y[r]-1,u=[];for(const n of e){if(R(n),n>=o)throw new Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)u.push((i>>s-r&a)>>>0);const e=Y[s];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<r-s&a,!n&&s>=t)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&u.push(i>>>0),u}function J(e,t=!1){if(R(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(K(8,e)>32||K(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!M(r))throw new Error("radix2.encode input should be Uint8Array");return Z(Array.from(r),8,e,!t)},decode:r=>(z("radix2.decode",r),Uint8Array.from(Z(r,e,8,t)))}}function Q(e){return N(e),function(...t){try{return e.apply(null,t)}catch(e){}}}V(J(4),q("0123456789ABCDEF"),F("")),V(J(5),q("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),G(5),F("")),V(J(5),q("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),F("")),V(J(5),q("0123456789ABCDEFGHIJKLMNOPQRSTUV"),G(5),F("")),V(J(5),q("0123456789ABCDEFGHIJKLMNOPQRSTUV"),F("")),V(J(5),q("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),F(""),W(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),V(J(6),q("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),G(6),F("")),V(J(6),q("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),F("")),V(J(6),q("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),G(6),F("")),V(J(6),q("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),F(""));const ee=e=>{return V((R(t=58),{encode:e=>{if(!M(e))throw new Error("radix.encode input should be Uint8Array");return X(Array.from(e),256,t)},decode:e=>(z("radix.decode",e),Uint8Array.from(X(e,t,256)))}),q(e),F(""));var t},te=ee("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");ee("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),ee("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const re=V(q("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),F("")),ne=[996825010,642813549,513874426,1027748829,705979059];function ie(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<ne.length;e++)1==(t>>e&1)&&(r^=ne[e]);return r}function se(e,t,r=1){const n=e.length;let i=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);i=ie(i)^r>>5}i=ie(i);for(let t=0;t<n;t++)i=ie(i)^31&e.charCodeAt(t);for(let e of t)i=ie(i)^e;for(let e=0;e<6;e++)i=ie(i);return i^=r,re.encode(Z([i%Y[30]],30,5,!1))}function oe(e){const t="bech32"===e?1:734539939,r=J(5),n=r.decode,i=r.encode,s=Q(n);function o(e,r,n=90){P("bech32.encode prefix",e),M(r)&&(r=Array.from(r)),z("bech32.encode",r);const i=e.length;if(0===i)throw new TypeError(`Invalid prefix length ${i}`);const s=i+7+r.length;if(!1!==n&&s>n)throw new TypeError(`Length ${s} exceeds limit ${n}`);const o=e.toLowerCase(),a=se(o,r,t);return`${o}1${re.encode(r)}${a}`}function a(e,r=90){P("bech32.decode input",e);const n=e.length;if(n<8||!1!==r&&n>r)throw new TypeError(`invalid string length: ${n} (${e}). Expected (8..${r})`);const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=i.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const o=i.slice(0,s),a=i.slice(s+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const u=re.decode(a).slice(0,-6),c=se(o,u,t);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:u}}return{encode:o,decode:a,encodeFromBytes:function(e,t){return o(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:Q(a),fromWords:n,fromWordsUnsafe:s,toWords:i}}oe("bech32"),oe("bech32m"),V(J(4),q("0123456789abcdef"),F(""),W(e=>{if("string"!=typeof e||e.length%2!=0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const ae=e=>te.encode(e),ue=e=>te.decode(e);function ce(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0))}const le=8192;function he(e){if(e.length<le)return btoa(String.fromCharCode(...e));let t="";for(var r=0;r<e.length;r+=le){const n=e.slice(r,r+le);t+=String.fromCharCode(...n)}return btoa(t)}function de(e){const t=e.startsWith("0x")?e.slice(2):e,r=t.length%2==0?t:`0${t}`,n=r.match(/[0-9a-fA-F]{2}/g)?.map(e=>parseInt(e,16))??[];if(n.length!==r.length/2)throw new Error(`Invalid hex string ${e}`);return Uint8Array.from(n)}function fe(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}function pe(e){let t=[],r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}class ge{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),t=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+t).toString(10)}read128(){let e=BigInt(this.read64()),t=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+t).toString(10)}read256(){let e=BigInt(this.read128()),t=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+t).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=function(e){let t=0,r=0,n=0;for(;;){let i=e[n];if(n+=1,t|=(127&i)<<r,!(128&i))break;r+=7}return{value:t,length:n}}(t);return this.shift(n),r}readVec(e){let t=this.readULEB(),r=[];for(let n=0;n<t;n++)r.push(e(this,n,t));return r}}function ye(e,t=["<",">"]){const[r,n]=t,i=[];let s="",o=0;for(let t=0;t<e.length;t++){const a=e[t];a===r&&o++,a===n&&o--,0!==o||","!==a?s+=a:(i.push(s.trim()),s="")}return i.push(s.trim()),i}class me{constructor({initialSize:e=1024,maxSize:t=1/0,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return we(BigInt(e),8).forEach(e=>this.write8(e)),this}write128(e){return we(BigInt(e),16).forEach(e=>this.write8(e)),this}write256(e){return we(BigInt(e),32).forEach(e=>this.write8(e)),this}writeULEB(e){return pe(e).forEach(e=>this.write8(e)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((r,n)=>t(this,r,n,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return function(e,t){switch(t){case"base58":return ae(e);case"base64":return he(e);case"hex":return fe(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(this.toBytes(),e)}}function we(e,t){let r=new Uint8Array(t),n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e/=BigInt(256),n+=1;return r}var be,ve,Ee,Se,Oe=e=>{throw TypeError(e)},Ie=(e,t,r)=>t.has(e)||Oe("Cannot "+r),xe=(e,t,r)=>(Ie(e,t,"read from private field"),r?r.call(e):t.get(e)),Ae=(e,t,r)=>t.has(e)?Oe("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),je=(e,t,r,n)=>(Ie(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);be=new WeakMap,ve=new WeakMap;let ke=class e{constructor(e){Ae(this,be),Ae(this,ve),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),je(this,be,e.write),je(this,ve,e.serialize??((e,t)=>{const r=new me({initialSize:this.serializedSize(e)??void 0,...t});return xe(this,be).call(this,e,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),xe(this,be).call(this,e,t)}serialize(e,t){return this.validate(e),new Be(this,xe(this,ve).call(this,e,t))}parse(e){const t=new ge(e);return this.read(t)}fromHex(e){return this.parse(de(e))}fromBase58(e){return this.parse(ue(e))}fromBase64(e){return this.parse(ce(e))}transform({name:t,input:r,output:n,validate:i}){return new e({name:t??this.name,read:e=>n?n(this.read(e)):this.read(e),write:(e,t)=>xe(this,be).call(this,r?r(e):e,t),serializedSize:e=>this.serializedSize(r?r(e):e),serialize:(e,t)=>xe(this,ve).call(this,r?r(e):e,t),validate:e=>{i?.(e),this.validate(r?r(e):e)}})}};const Te=Symbol.for("@mysten/serialized-bcs");function Ue(e){return!!e&&"object"==typeof e&&!0===e[Te]}class Be{constructor(e,t){Ae(this,Ee),Ae(this,Se),je(this,Ee,e),je(this,Se,t)}get[Te](){return!0}toBytes(){return xe(this,Se)}toHex(){return fe(xe(this,Se))}toBase64(){return he(xe(this,Se))}toBase58(){return ae(xe(this,Se))}parse(){return xe(this,Ee).parse(xe(this,Se))}}function Ce({size:e,...t}){return new ke({...t,serializedSize:()=>e})}function $e({readMethod:e,writeMethod:t,...r}){return Ce({...r,read:t=>t[e](),write:(e,r)=>r[t](e),validate:e=>{if(e<0||e>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected value in range 0-${r.maxValue}`);r.validate?.(e)}})}function Me({readMethod:e,writeMethod:t,...r}){return Ce({...r,read:t=>t[e](),write:(e,r)=>r[t](BigInt(e)),validate:e=>{const t=BigInt(e);if(t<0||t>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${t}. Expected value in range 0-${r.maxValue}`);r.validate?.(t)}})}Ee=new WeakMap,Se=new WeakMap;const _e={u8:e=>$e({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e}),u16:e=>$e({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e}),u32:e=>$e({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e}),u64:e=>Me({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e}),u128:e=>Me({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e}),u256:e=>Me({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e}),bool:e=>Ce({name:"bool",size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(e?1:0),...e,validate:t=>{if(e?.validate?.(t),"boolean"!=typeof t)throw new TypeError("Expected boolean, found "+typeof t)}}),uleb128:e=>function({serialize:e,...t}){const r=new ke({...t,serialize:e,write:(e,t)=>{for(const n of r.serialize(e).toBytes())t.write8(n)}});return r}({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(pe(e)),...e}),bytes:(e,t)=>Ce({name:`bytes[${e}]`,size:e,read:t=>t.readBytes(e),write:(t,r)=>{const n=new Uint8Array(t);for(let t=0;t<e;t++)r.write8(n[t]??0)},...t,validate:r=>{if(t?.validate?.(r),!r||"object"!=typeof r||!("length"in r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e)throw new TypeError(`Expected array of length ${e}, found ${r.length}`)}}),byteVector:e=>new ke({name:"bytesVector",read:e=>{const t=e.readULEB();return e.readBytes(t)},write:(e,t)=>{const r=new Uint8Array(e);t.writeULEB(r.length);for(let e=0;e<r.length;e++)t.write8(r[e]??0)},...e,serializedSize:e=>{const t="length"in e?e.length:null;return null==t?null:pe(t).length+t},validate:t=>{if(e?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw new TypeError("Expected array, found "+typeof t)}}),string:e=>function({toBytes:e,fromBytes:t,...r}){return new ke({...r,read:e=>{const r=e.readULEB(),n=e.readBytes(r);return t(n)},write:(t,r)=>{const n=e(t);r.writeULEB(n.length);for(let e=0;e<n.length;e++)r.write8(n[e])},serialize:t=>{const r=e(t),n=pe(r.length),i=new Uint8Array(n.length+r.length);return i.set(n,0),i.set(r,n.length),i},validate:e=>{if("string"!=typeof e)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected string`);r.validate?.(e)}})}({name:"string",toBytes:e=>(new TextEncoder).encode(e),fromBytes:e=>(new TextDecoder).decode(e),...e}),fixedArray:(e,t,r)=>new ke({name:`${t.name}[${e}]`,read:r=>{const n=new Array(e);for(let i=0;i<e;i++)n[i]=t.read(r);return n},write:(e,r)=>{for(const n of e)t.write(n,r)},...r,validate:t=>{if(r?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw new TypeError("Expected array, found "+typeof t);if(t.length!==e)throw new TypeError(`Expected array of length ${e}, found ${t.length}`)}}),option:e=>_e.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"===e.$kind?e.Some:null}),vector:(e,t)=>new ke({name:`vector<${e.name}>`,read:t=>{const r=t.readULEB(),n=new Array(r);for(let i=0;i<r;i++)n[i]=e.read(t);return n},write:(t,r)=>{r.writeULEB(t.length);for(const n of t)e.write(n,r)},...t,validate:e=>{if(t?.validate?.(e),!e||"object"!=typeof e||!("length"in e))throw new TypeError("Expected array, found "+typeof e)}}),tuple:(e,t)=>new ke({name:`(${e.map(e=>e.name).join(", ")})`,serializedSize:t=>{let r=0;for(let n=0;n<e.length;n++){const i=e[n].serializedSize(t[n]);if(null==i)return null;r+=i}return r},read:t=>{const r=[];for(const n of e)r.push(n.read(t));return r},write:(t,r)=>{for(let n=0;n<e.length;n++)e[n].write(t[n],r)},...t,validate:r=>{if(t?.validate?.(r),!Array.isArray(r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e.length)throw new TypeError(`Expected array of length ${e.length}, found ${r.length}`)}}),struct(e,t,r){const n=Object.entries(t);return new ke({name:e,serializedSize:e=>{let t=0;for(const[r,i]of n){const n=i.serializedSize(e[r]);if(null==n)return null;t+=n}return t},read:e=>{const t={};for(const[r,i]of n)t[r]=i.read(e);return t},write:(e,t)=>{for(const[r,i]of n)i.write(e[r],t)},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw new TypeError("Expected object, found "+typeof e)}})},enum(e,t,r){const n=Object.entries(t);return new ke({name:e,read:t=>{const r=t.readULEB(),i=n[r];if(!i)throw new TypeError(`Unknown value ${r} for enum ${e}`);const[s,o]=i;return{[s]:o?.read(t)??!0,$kind:s}},write:(e,r)=>{const[i,s]=Object.entries(e).filter(([e])=>Object.hasOwn(t,e))[0];for(let e=0;e<n.length;e++){const[t,o]=n[e];if(t===i)return r.writeULEB(e),void o?.write(s,r)}},...r,validate:n=>{if(r?.validate?.(n),"object"!=typeof n||null==n)throw new TypeError("Expected object, found "+typeof n);const i=Object.keys(n).filter(e=>void 0!==n[e]&&Object.hasOwn(t,e));if(1!==i.length)throw new TypeError(`Expected object with one key, but found ${i.length} for type ${e}}`);const[s]=i;if(!Object.hasOwn(t,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map:(e,t)=>_e.vector(_e.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{const t=new Map;for(const[r,n]of e)t.set(r,n);return t}}),lazy:e=>function(e){let t=null;function r(){return t||(t=e()),t}return new ke({name:"lazy",read:e=>r().read(e),serializedSize:e=>r().serializedSize(e),write:(e,t)=>r().write(e,t),serialize:(e,t)=>r().serialize(e,t).toBytes()})}(e)};class Ne{constructor({network:e}){this.network=e}$extend(...e){return Object.create(this,Object.fromEntries(e.map(e=>{if("experimental_asClientExtension"in e){const{name:t,register:r}=e.experimental_asClientExtension();return[t,{value:r(this)}]}return[e.name,{value:e.register(this)}]})))}}const Pe=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,Re=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i;const Le=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,De=/^\d+$/,ze=e=>{const t=e.split("/");if(t.length<2||t.length>3)return!1;const[r,n,i]=t;return!(void 0!==i&&!De.test(i))&&(!!function(e){return!(e.length>235)&&(e.includes("@")?Pe.test(e):Re.test(e))}(r)&&(Le.test(n)&&n.length<64))};function Ve(e){try{return 32===ue(e).length}catch(e){return!1}}function qe(e){return function(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2==0}(e)&&32===function(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}(e)}function Fe(e){return qe(e)}function Ge(e){const[t,r]=e.split("::"),n=ze(t),i=e.slice(t.length+r.length+4),s=i.includes("<")?i.slice(0,i.indexOf("<")):i,o=i.includes("<")?ye(i.slice(i.indexOf("<")+1,i.lastIndexOf(">"))).map(e=>function(e){return e.includes("::")?Ge(e):e}(e.trim())):[];return{address:n?t:Xe(t),module:r,name:s,typeParams:o}}function We(e){const{address:t,module:r,name:n,typeParams:i}="string"==typeof e?Ge(e):e;return`${t}::${r}::${n}${i?.length>0?`<${i.map(e=>"string"==typeof e?e:We(e)).join(",")}>`:""}`}function Xe(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(64,"0")}`}function He(e,t=!1){return Xe(e,t)}const Ke=/^vector<(.+)>$/,Ye=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class Ze{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};if("u256"===e)return{u256:null};if("signer"===e)return{signer:null};const r=e.match(Ke);if(r)return{vector:Ze.parseFromStr(r[1],t)};const n=e.match(Ye);if(n){return{struct:{address:t?Xe(n[1]):n[1],module:n[2],name:n[3],typeParams:void 0===n[5]?[]:Ze.parseStructTypeArgs(n[5],t)}}}throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return ye(e).map(e=>Ze.parseFromStr(e,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${Ze.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,r=t.typeParams.map(Ze.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}}const Je=_e.bytes(32).transform({validate:e=>{const t="string"==typeof e?e:fe(e);if(!t||!qe(Xe(t)))throw new Error(`Invalid Sui address ${t}`)},input:e=>"string"==typeof e?de(Xe(e)):e,output:e=>Xe(fe(e))}),Qe=_e.vector(_e.u8()).transform({name:"ObjectDigest",input:e=>ue(e),output:e=>ae(new Uint8Array(e)),validate:e=>{if(32!==ue(e).length)throw new Error("ObjectDigest must be 32 bytes")}}),et=_e.struct("SuiObjectRef",{objectId:Je,version:_e.u64(),digest:Qe}),tt=_e.struct("SharedObjectRef",{objectId:Je,initialSharedVersion:_e.u64(),mutable:_e.bool()}),rt=_e.enum("ObjectArg",{ImmOrOwnedObject:et,SharedObject:tt,Receiving:et}),nt=_e.enum("CallArg",{Pure:_e.struct("Pure",{bytes:_e.vector(_e.u8()).transform({input:e=>"string"==typeof e?ce(e):e,output:e=>he(new Uint8Array(e))})}),Object:rt}),it=_e.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:_e.lazy(()=>it),struct:_e.lazy(()=>pt),u16:null,u32:null,u256:null}),st=it.transform({input:e=>"string"==typeof e?Ze.parseFromStr(e,!0):e,output:e=>Ze.tagToString(e)}),ot=_e.enum("Argument",{GasCoin:null,Input:_e.u16(),Result:_e.u16(),NestedResult:_e.tuple([_e.u16(),_e.u16()])}),at=_e.struct("ProgrammableMoveCall",{package:Je,module:_e.string(),function:_e.string(),typeArguments:_e.vector(st),arguments:_e.vector(ot)}),ut=_e.enum("Command",{MoveCall:at,TransferObjects:_e.struct("TransferObjects",{objects:_e.vector(ot),address:ot}),SplitCoins:_e.struct("SplitCoins",{coin:ot,amounts:_e.vector(ot)}),MergeCoins:_e.struct("MergeCoins",{destination:ot,sources:_e.vector(ot)}),Publish:_e.struct("Publish",{modules:_e.vector(_e.vector(_e.u8()).transform({input:e=>"string"==typeof e?ce(e):e,output:e=>he(new Uint8Array(e))})),dependencies:_e.vector(Je)}),MakeMoveVec:_e.struct("MakeMoveVec",{type:(ct=st,_e.enum("Option",{None:null,Some:ct})).transform({input:e=>null===e?{None:!0}:{Some:e},output:e=>e.Some??null}),elements:_e.vector(ot)}),Upgrade:_e.struct("Upgrade",{modules:_e.vector(_e.vector(_e.u8()).transform({input:e=>"string"==typeof e?ce(e):e,output:e=>he(new Uint8Array(e))})),dependencies:_e.vector(Je),package:Je,ticket:ot})});var ct;const lt=_e.struct("ProgrammableTransaction",{inputs:_e.vector(nt),commands:_e.vector(ut)}),ht=_e.enum("TransactionKind",{ProgrammableTransaction:lt,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),dt=_e.enum("TransactionExpiration",{None:null,Epoch:_e.u64({name:"unsafe_u64",...ft}).transform({input:e=>e,output:e=>Number(e)})});var ft;const pt=_e.struct("StructTag",{address:Je,module:_e.string(),name:_e.string(),typeParams:_e.vector(it)}),gt=_e.struct("GasData",{payment:_e.vector(et),owner:Je,price:_e.u64(),budget:_e.u64()}),yt=_e.struct("TransactionDataV1",{kind:ht,sender:Je,gasData:gt,expiration:dt}),mt=_e.enum("TransactionData",{V1:yt}),wt=_e.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),bt=_e.enum("IntentVersion",{V0:null}),vt=_e.enum("AppId",{Sui:null}),Et=_e.struct("Intent",{scope:wt,version:bt,appId:vt});function St(e){return _e.struct(`IntentMessage<${e.name}>`,{intent:Et,value:e})}const Ot=_e.enum("CompressedSignature",{ED25519:_e.fixedArray(64,_e.u8()),Secp256k1:_e.fixedArray(64,_e.u8()),Secp256r1:_e.fixedArray(64,_e.u8()),ZkLogin:_e.vector(_e.u8())}),It=_e.enum("PublicKey",{ED25519:_e.fixedArray(32,_e.u8()),Secp256k1:_e.fixedArray(33,_e.u8()),Secp256r1:_e.fixedArray(33,_e.u8()),ZkLogin:_e.vector(_e.u8())}),xt=_e.struct("MultiSigPkMap",{pubKey:It,weight:_e.u8()}),At=_e.struct("MultiSigPublicKey",{pk_map:_e.vector(xt),threshold:_e.u16()}),jt=_e.struct("MultiSig",{sigs:_e.vector(Ot),bitmap:_e.u16(),multisig_pk:At}),kt=_e.vector(_e.u8()).transform({input:e=>"string"==typeof e?ce(e):e,output:e=>he(new Uint8Array(e))}),Tt=_e.struct("SenderSignedTransaction",{intentMessage:St(mt),txSignatures:_e.vector(kt)}),Ut=_e.vector(Tt,{name:"SenderSignedData"}),Bt=_e.struct("PasskeyAuthenticator",{authenticatorData:_e.vector(_e.u8()),clientDataJson:_e.string(),userSignature:_e.vector(_e.u8())}),Ct=_e.enum("PackageUpgradeError",{UnableToFetchPackage:_e.struct("UnableToFetchPackage",{packageId:Je}),NotAPackage:_e.struct("NotAPackage",{objectId:Je}),IncompatibleUpgrade:null,DigestDoesNotMatch:_e.struct("DigestDoesNotMatch",{digest:_e.vector(_e.u8())}),UnknownUpgradePolicy:_e.struct("UnknownUpgradePolicy",{policy:_e.u8()}),PackageIDDoesNotMatch:_e.struct("PackageIDDoesNotMatch",{packageId:Je,ticketId:Je})}),$t=_e.struct("ModuleId",{address:Je,name:_e.string()}),Mt=_e.struct("MoveLocation",{module:$t,function:_e.u16(),instruction:_e.u16(),functionName:_e.option(_e.string())}),_t=_e.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:_e.struct("IndexOutOfBounds",{idx:_e.u16()}),SecondaryIndexOutOfBounds:_e.struct("SecondaryIndexOutOfBounds",{resultIdx:_e.u16(),secondaryIdx:_e.u16()}),InvalidResultArity:_e.struct("InvalidResultArity",{resultIdx:_e.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),Nt=_e.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),Pt=_e.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:_e.struct("MoveObjectTooBig",{objectSize:_e.u64(),maxObjectSize:_e.u64()}),MovePackageTooBig:_e.struct("MovePackageTooBig",{objectSize:_e.u64(),maxObjectSize:_e.u64()}),CircularObjectOwnership:_e.struct("CircularObjectOwnership",{object:Je}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:_e.option(Mt),MoveAbort:_e.tuple([Mt,_e.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:_e.struct("CommandArgumentError",{argIdx:_e.u16(),kind:_t}),TypeArgumentError:_e.struct("TypeArgumentError",{argumentIdx:_e.u16(),kind:Nt}),UnusedValueWithoutDrop:_e.struct("UnusedValueWithoutDrop",{resultIdx:_e.u16(),secondaryIdx:_e.u16()}),InvalidPublicFunctionReturnType:_e.struct("InvalidPublicFunctionReturnType",{idx:_e.u16()}),InvalidTransferObject:null,EffectsTooLarge:_e.struct("EffectsTooLarge",{currentSize:_e.u64(),maxSize:_e.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:_e.struct("PackageUpgradeError",{upgradeError:Ct}),WrittenObjectsTooLarge:_e.struct("WrittenObjectsTooLarge",{currentSize:_e.u64(),maxSize:_e.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:_e.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:_e.vector(Je)}),AddressDeniedForCoin:_e.struct("AddressDeniedForCoin",{address:Je,coinType:_e.string()}),CoinTypeGlobalPause:_e.struct("CoinTypeGlobalPause",{coinType:_e.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),Rt=_e.enum("ExecutionStatus",{Success:null,Failed:_e.struct("ExecutionFailed",{error:Pt,command:_e.option(_e.u64())})}),Lt=_e.struct("GasCostSummary",{computationCost:_e.u64(),storageCost:_e.u64(),storageRebate:_e.u64(),nonRefundableStorageFee:_e.u64()}),Dt=_e.enum("Owner",{AddressOwner:Je,ObjectOwner:Je,Shared:_e.struct("Shared",{initialSharedVersion:_e.u64()}),Immutable:null}),zt=_e.struct("TransactionEffectsV1",{status:Rt,executedEpoch:_e.u64(),gasUsed:Lt,modifiedAtVersions:_e.vector(_e.tuple([Je,_e.u64()])),sharedObjects:_e.vector(et),transactionDigest:Qe,created:_e.vector(_e.tuple([et,Dt])),mutated:_e.vector(_e.tuple([et,Dt])),unwrapped:_e.vector(_e.tuple([et,Dt])),deleted:_e.vector(et),unwrappedThenDeleted:_e.vector(et),wrapped:_e.vector(et),gasObject:_e.tuple([et,Dt]),eventsDigest:_e.option(Qe),dependencies:_e.vector(Qe)}),Vt=_e.tuple([_e.u64(),Qe]),qt=_e.enum("ObjectIn",{NotExist:null,Exist:_e.tuple([Vt,Dt])}),Ft=_e.enum("ObjectOut",{NotExist:null,ObjectWrite:_e.tuple([Qe,Dt]),PackageWrite:Vt}),Gt=_e.enum("IDOperation",{None:null,Created:null,Deleted:null}),Wt=_e.struct("EffectsObjectChange",{inputState:qt,outputState:Ft,idOperation:Gt}),Xt=_e.enum("UnchangedSharedKind",{ReadOnlyRoot:Vt,MutateDeleted:_e.u64(),ReadDeleted:_e.u64(),Cancelled:_e.u64(),PerEpochConfig:null}),Ht=_e.struct("TransactionEffectsV2",{status:Rt,executedEpoch:_e.u64(),gasUsed:Lt,transactionDigest:Qe,gasObjectIndex:_e.option(_e.u32()),eventsDigest:_e.option(Qe),dependencies:_e.vector(Qe),lamportVersion:_e.u64(),changedObjects:_e.vector(_e.tuple([Je,Wt])),unchangedSharedObjects:_e.vector(_e.tuple([Je,Xt])),auxDataDigest:_e.option(Qe)}),Kt=_e.enum("TransactionEffects",{V1:zt,V2:Ht});function Yt(e){switch(e){case"u8":return _e.u8();case"u16":return _e.u16();case"u32":return _e.u32();case"u64":return _e.u64();case"u128":return _e.u128();case"u256":return _e.u256();case"bool":return _e.bool();case"string":return _e.string();case"id":case"address":return Je}const t=e.match(/^(vector|option)<(.+)>$/);if(t){const[e,r]=t.slice(1);return"vector"===e?_e.vector(Yt(r)):_e.option(Yt(r))}throw new Error(`Invalid Pure type name: ${e}`)}const Zt={..._e,U8:_e.u8(),U16:_e.u16(),U32:_e.u32(),U64:_e.u64(),U128:_e.u128(),U256:_e.u256(),ULEB128:_e.uleb128(),Bool:_e.bool(),String:_e.string(),Address:Je,AppId:vt,Argument:ot,CallArg:nt,CompressedSignature:Ot,GasData:gt,Intent:Et,IntentMessage:St,IntentScope:wt,IntentVersion:bt,MultiSig:jt,MultiSigPkMap:xt,MultiSigPublicKey:At,ObjectArg:rt,ObjectDigest:Qe,ProgrammableMoveCall:at,ProgrammableTransaction:lt,PublicKey:It,SenderSignedData:Ut,SenderSignedTransaction:Tt,SharedObjectRef:tt,StructTag:pt,SuiObjectRef:et,Command:ut,TransactionData:mt,TransactionDataV1:yt,TransactionExpiration:dt,TransactionKind:ht,TypeTag:st,TransactionEffects:Kt,PasskeyAuthenticator:Bt};function Jt(e){const t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function Qt(e,t,r,n,i){const s=i&&"input"in i?i.input:r.value,o=i?.expected??e.expects??null,a=i?.received??Jt(s),u={kind:e.kind,type:e.type,input:s,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},c="schema"===e.kind,l=i?.message??e.message??(e.reference,void u.lang)??(c?void u.lang:null)??n.message??void u.lang;l&&(u.message="function"==typeof l?l(u):l),c&&(r.typed=!1),r.issues?r.issues.push(u):r.issues=[u]}function er(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}var tr=class extends Error{issues;constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function rr(e,t){return{kind:"validation",type:"check",reference:rr,async:!1,expects:null,requirement:e,message:t,_run(e,t){return e.typed&&!this.requirement(e.value)&&Qt(this,"input",e,t),e}}}function nr(e){return{kind:"validation",type:"integer",reference:nr,async:!1,expects:null,requirement:Number.isInteger,message:e,_run(e,t){return e.typed&&!this.requirement(e.value)&&Qt(this,"integer",e,t),e}}}function ir(e){return{kind:"transformation",type:"transform",reference:ir,async:!1,operation:e,_run(e){return e.value=this.operation(e.value),e}}}function sr(e,t,r){return"function"==typeof e.default?e.default(t,r):e.default}function or(e,t){return!e._run({typed:!1,value:t},{abortEarly:!0}).issues}function ar(e,t){return{kind:"schema",type:"array",reference:ar,expects:"Array",async:!1,item:e,message:t,_run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<r.length;n++){const i=r[n],s=this.item._run({typed:!1,value:i},t);if(s.issues){const o={type:"array",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else Qt(this,"type",e,t);return e}}}function ur(e){return{kind:"schema",type:"bigint",reference:ur,expects:"bigint",async:!1,message:e,_run(e,t){return"bigint"==typeof e.value?e.typed=!0:Qt(this,"type",e,t),e}}}function cr(e){return{kind:"schema",type:"boolean",reference:cr,expects:"boolean",async:!1,message:e,_run(e,t){return"boolean"==typeof e.value?e.typed=!0:Qt(this,"type",e,t),e}}}function lr(e){return{kind:"schema",type:"lazy",reference:lr,expects:"unknown",async:!1,getter:e,_run(e,t){return this.getter(e.value)._run(e,t)}}}function hr(e,t){return{kind:"schema",type:"literal",reference:hr,expects:Jt(e),async:!1,literal:e,message:t,_run(e,t){return e.value===this.literal?e.typed=!0:Qt(this,"type",e,t),e}}}function dr(e,...t){const r={kind:"schema",type:"nullable",reference:dr,expects:`${e.expects} | null`,async:!1,wrapped:e,_run(e,t){return null===e.value&&("default"in this&&(e.value=sr(this,e,t)),null===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function fr(e,...t){const r={kind:"schema",type:"nullish",reference:fr,expects:`${e.expects} | null | undefined`,async:!1,wrapped:e,_run(e,t){return null!==e.value&&void 0!==e.value||("default"in this&&(e.value=sr(this,e,t)),null!==e.value&&void 0!==e.value)?this.wrapped._run(e,t):(e.typed=!0,e)}};return 0 in t&&(r.default=t[0]),r}function pr(e){return{kind:"schema",type:"number",reference:pr,expects:"number",async:!1,message:e,_run(e,t){return"number"!=typeof e.value||isNaN(e.value)?Qt(this,"type",e,t):e.typed=!0,e}}}function gr(e,t){return{kind:"schema",type:"object",reference:gr,expects:"Object",async:!1,entries:e,message:t,_run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const n in this.entries){const i=r[n],s=this.entries[n]._run({typed:!1,value:i},t);if(s.issues){const o={type:"object",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),(void 0!==s.value||n in r)&&(e.value[n]=s.value)}}else Qt(this,"type",e,t);return e}}}function yr(e,...t){const r={kind:"schema",type:"optional",reference:yr,expects:`${e.expects} | undefined`,async:!1,wrapped:e,_run(e,t){return void 0===e.value&&("default"in this&&(e.value=sr(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function mr(e,t,r){return{kind:"schema",type:"record",reference:mr,expects:"Object",async:!1,key:e,value:t,message:r,_run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const n in r)if(er(r,n)){const i=r[n],s=this.key._run({typed:!1,value:n},t);if(s.issues){const o={type:"object",origin:"key",input:r,key:n,value:i};for(const t of s.issues)t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}const o=this.value._run({typed:!1,value:i},t);if(o.issues){const s={type:"object",origin:"value",input:r,key:n,value:i};for(const t of o.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}s.typed&&o.typed||(e.typed=!1),s.typed&&(e.value[s.value]=o.value)}}else Qt(this,"type",e,t);return e}}}function wr(e){return{kind:"schema",type:"string",reference:wr,expects:"string",async:!1,message:e,_run(e,t){return"string"==typeof e.value?e.typed=!0:Qt(this,"type",e,t),e}}}function br(e,t){return{kind:"schema",type:"tuple",reference:br,expects:"Array",async:!1,items:e,message:t,_run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<this.items.length;n++){const i=r[n],s=this.items[n]._run({typed:!1,value:i},t);if(s.issues){const o={type:"array",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else Qt(this,"type",e,t);return e}}}function vr(e){let t;if(e)for(const r of e)t?t.push(...r.issues):t=r.issues;return t}function Er(e,t){return{kind:"schema",type:"union",reference:Er,expects:[...new Set(e.map(e=>e.expects))].join(" | ")||"never",async:!1,options:e,message:t,_run(e,t){let r,n,i;for(const s of this.options){const o=s._run({typed:!1,value:e.value},t);if(o.typed){if(!o.issues){r=o;break}n?n.push(o):n=[o]}else i?i.push(o):i=[o]}if(r)return r;if(n){if(1===n.length)return n[0];Qt(this,"type",e,t,{issues:vr(n)}),e.typed=!0}else{if(1===i?.length)return i[0];Qt(this,"type",e,t,{issues:vr(i)})}return e}}}function Sr(){return{kind:"schema",type:"unknown",reference:Sr,expects:"unknown",async:!1,_run:e=>(e.typed=!0,e)}}function Or(e,t,r){const n=e._run({typed:!1,value:t},function(e){return{lang:e?.lang??void 0,message:e?.message,abortEarly:e?.abortEarly??void 0,abortPipeEarly:e?.abortPipeEarly??void 0}}(r));if(n.issues)throw new tr(n.issues);return n.value}function Ir(...e){return{...e[0],pipe:e,_run(t,r){for(let n=0;n<e.length;n++){if(t.issues&&("schema"===e[n].kind||"transformation"===e[n].kind)){t.typed=!1;break}t.issues&&(r.abortEarly||r.abortPipeEarly)||(t=e[n]._run(t,r))}return t}}}function xr(e){return Ir(Er(Object.entries(e).map(([e,t])=>gr({[e]:t}))),ir(e=>({...e,$kind:Object.keys(e)[0]})))}const Ar=Ir(wr(),ir(e=>Xe(e)),rr(qe)),jr=Ar,kr=wr(),Tr=Ir(Er([wr(),Ir(pr(),nr())]),rr(e=>{try{return BigInt(e),BigInt(e)>=0&&BigInt(e)<=18446744073709551615n}catch{return!1}},"Invalid u64")),Ur=gr({objectId:Ar,version:Tr,digest:wr()}),Br=Ir(Er([gr({GasCoin:hr(!0)}),gr({Input:Ir(pr(),nr()),type:yr(hr("pure"))}),gr({Input:Ir(pr(),nr()),type:yr(hr("object"))}),gr({Result:Ir(pr(),nr())}),gr({NestedResult:br([Ir(pr(),nr()),Ir(pr(),nr())])})]),ir(e=>({...e,$kind:Object.keys(e)[0]}))),Cr=gr({budget:dr(Tr),price:dr(Tr),owner:dr(Ar),payment:dr(ar(Ur))}),$r=Er([hr("address"),hr("bool"),hr("u8"),hr("u16"),hr("u32"),hr("u64"),hr("u128"),hr("u256"),gr({vector:lr(()=>$r)}),gr({datatype:gr({package:wr(),module:wr(),type:wr(),typeParameters:ar(lr(()=>$r))})}),gr({typeParameter:Ir(pr(),nr())})]),Mr=gr({ref:dr(Er([hr("&"),hr("&mut")])),body:$r}),_r=gr({package:jr,module:wr(),function:wr(),typeArguments:ar(wr()),arguments:ar(Br),_argumentTypes:yr(dr(ar(Mr)))}),Nr=gr({name:wr(),inputs:mr(wr(),Er([Br,ar(Br)])),data:mr(wr(),Sr())}),Pr=xr({MoveCall:_r,TransferObjects:gr({objects:ar(Br),address:Br}),SplitCoins:gr({coin:Br,amounts:ar(Br)}),MergeCoins:gr({destination:Br,sources:ar(Br)}),Publish:gr({modules:ar(kr),dependencies:ar(jr)}),MakeMoveVec:gr({type:dr(wr()),elements:ar(Br)}),Upgrade:gr({modules:ar(kr),dependencies:ar(jr),package:jr,ticket:Br}),$Intent:Nr}),Rr=xr({ImmOrOwnedObject:Ur,SharedObject:gr({objectId:jr,initialSharedVersion:Tr,mutable:cr()}),Receiving:Ur}),Lr=xr({Object:Rr,Pure:gr({bytes:kr}),UnresolvedPure:gr({value:Sr()}),UnresolvedObject:gr({objectId:jr,version:yr(dr(Tr)),digest:yr(dr(wr())),initialSharedVersion:yr(dr(Tr))})}),Dr=xr({Object:Rr,Pure:gr({bytes:kr})}),zr=xr({None:hr(!0),Epoch:Tr}),Vr=gr({version:hr(2),sender:fr(Ar),expiration:fr(zr),gasData:Cr,inputs:ar(Lr),commands:ar(Pr)}),qr={MoveCall(e){const[t,r="",n=""]="target"in e?e.target.split("::"):[e.package,e.module,e.function];return{$kind:"MoveCall",MoveCall:{package:t,module:r,function:n,typeArguments:e.typeArguments??[],arguments:e.arguments??[]}}},TransferObjects:(e,t)=>({$kind:"TransferObjects",TransferObjects:{objects:e.map(e=>Or(Br,e)),address:Or(Br,t)}}),SplitCoins:(e,t)=>({$kind:"SplitCoins",SplitCoins:{coin:Or(Br,e),amounts:t.map(e=>Or(Br,e))}}),MergeCoins:(e,t)=>({$kind:"MergeCoins",MergeCoins:{destination:Or(Br,e),sources:t.map(e=>Or(Br,e))}}),Publish:({modules:e,dependencies:t})=>({$kind:"Publish",Publish:{modules:e.map(e=>"string"==typeof e?e:he(new Uint8Array(e))),dependencies:t.map(e=>He(e))}}),Upgrade:({modules:e,dependencies:t,package:r,ticket:n})=>({$kind:"Upgrade",Upgrade:{modules:e.map(e=>"string"==typeof e?e:he(new Uint8Array(e))),dependencies:t.map(e=>He(e)),package:r,ticket:Or(Br,n)}}),MakeMoveVec:({type:e,elements:t})=>({$kind:"MakeMoveVec",MakeMoveVec:{type:e??null,elements:t.map(e=>Or(Br,e))}}),Intent:({name:e,inputs:t={},data:r={}})=>({$kind:"$Intent",$Intent:{name:e,inputs:Object.fromEntries(Object.entries(t).map(([e,t])=>[e,Array.isArray(t)?t.map(e=>Or(Br,e)):Or(Br,t)])),data:r}})},Fr=gr({digest:wr(),objectId:wr(),version:Er([Ir(pr(),nr()),wr(),ur()])}),Gr=xr({ImmOrOwned:Fr,Shared:gr({objectId:jr,initialSharedVersion:Tr,mutable:cr()}),Receiving:Fr}),Wr=xr({Object:Gr,Pure:ar(Ir(pr(),nr()))}),Xr=Er([gr({kind:hr("Input"),index:Ir(pr(),nr()),value:Sr(),type:yr(hr("object"))}),gr({kind:hr("Input"),index:Ir(pr(),nr()),value:Sr(),type:hr("pure")})]),Hr=Er([gr({Epoch:Ir(pr(),nr())}),gr({None:dr(hr(!0))})]),Kr=Ir(Er([pr(),wr(),ur()]),rr(e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}})),Yr=Er([gr({bool:dr(hr(!0))}),gr({u8:dr(hr(!0))}),gr({u64:dr(hr(!0))}),gr({u128:dr(hr(!0))}),gr({address:dr(hr(!0))}),gr({signer:dr(hr(!0))}),gr({vector:lr(()=>Yr)}),gr({struct:lr(()=>Zr)}),gr({u16:dr(hr(!0))}),gr({u32:dr(hr(!0))}),gr({u256:dr(hr(!0))})]),Zr=gr({address:wr(),module:wr(),name:wr(),typeParams:ar(Yr)}),Jr=gr({budget:yr(Kr),price:yr(Kr),payment:yr(ar(Fr)),owner:yr(wr())}),Qr=Er([...[Xr,gr({kind:hr("GasCoin")}),gr({kind:hr("Result"),index:Ir(pr(),nr())}),gr({kind:hr("NestedResult"),index:Ir(pr(),nr()),resultIndex:Ir(pr(),nr())})]]),en=gr({kind:hr("MoveCall"),target:Ir(wr(),rr(e=>3===e.split("::").length)),typeArguments:ar(wr()),arguments:ar(Qr)}),tn=gr({kind:hr("TransferObjects"),objects:ar(Qr),address:Qr}),rn=gr({kind:hr("SplitCoins"),coin:Qr,amounts:ar(Qr)}),nn=gr({kind:hr("MergeCoins"),destination:Qr,sources:ar(Qr)}),sn=gr({kind:hr("MakeMoveVec"),type:Er([gr({Some:Yr}),gr({None:dr(hr(!0))})]),objects:ar(Qr)}),on=Er([...[en,tn,rn,nn,gr({kind:hr("Publish"),modules:ar(ar(Ir(pr(),nr()))),dependencies:ar(wr())}),gr({kind:hr("Upgrade"),modules:ar(ar(Ir(pr(),nr()))),dependencies:ar(wr()),packageId:wr(),ticket:Qr}),sn]]);function an(e){const t=e.inputs.map((e,t)=>{if(e.Object)return{kind:"Input",index:t,value:{Object:e.Object.ImmOrOwnedObject?{ImmOrOwned:e.Object.ImmOrOwnedObject}:e.Object.Receiving?{Receiving:{digest:e.Object.Receiving.digest,version:e.Object.Receiving.version,objectId:e.Object.Receiving.objectId}}:{Shared:{mutable:e.Object.SharedObject.mutable,initialSharedVersion:e.Object.SharedObject.initialSharedVersion,objectId:e.Object.SharedObject.objectId}}},type:"object"};if(e.Pure)return{kind:"Input",index:t,value:{Pure:Array.from(ce(e.Pure.bytes))},type:"pure"};if(e.UnresolvedPure)return{kind:"Input",type:"pure",index:t,value:e.UnresolvedPure.value};if(e.UnresolvedObject)return{kind:"Input",type:"object",index:t,value:e.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:e.sender??void 0,expiration:"Epoch"===e.expiration?.$kind?{Epoch:Number(e.expiration.Epoch)}:e.expiration?{None:!0}:null,gasConfig:{owner:e.gasData.owner??void 0,budget:e.gasData.budget??void 0,price:e.gasData.price??void 0,payment:e.gasData.payment??void 0},inputs:t,transactions:e.commands.map(e=>{if(e.MakeMoveVec)return{kind:"MakeMoveVec",type:null===e.MakeMoveVec.type?{None:!0}:{Some:Ze.parseFromStr(e.MakeMoveVec.type)},objects:e.MakeMoveVec.elements.map(e=>un(e,t))};if(e.MergeCoins)return{kind:"MergeCoins",destination:un(e.MergeCoins.destination,t),sources:e.MergeCoins.sources.map(e=>un(e,t))};if(e.MoveCall)return{kind:"MoveCall",target:`${e.MoveCall.package}::${e.MoveCall.module}::${e.MoveCall.function}`,typeArguments:e.MoveCall.typeArguments,arguments:e.MoveCall.arguments.map(e=>un(e,t))};if(e.Publish)return{kind:"Publish",modules:e.Publish.modules.map(e=>Array.from(ce(e))),dependencies:e.Publish.dependencies};if(e.SplitCoins)return{kind:"SplitCoins",coin:un(e.SplitCoins.coin,t),amounts:e.SplitCoins.amounts.map(e=>un(e,t))};if(e.TransferObjects)return{kind:"TransferObjects",objects:e.TransferObjects.objects.map(e=>un(e,t)),address:un(e.TransferObjects.address,t)};if(e.Upgrade)return{kind:"Upgrade",modules:e.Upgrade.modules.map(e=>Array.from(ce(e))),dependencies:e.Upgrade.dependencies,packageId:e.Upgrade.package,ticket:un(e.Upgrade.ticket,t)};throw new Error(`Unknown transaction ${Object.keys(e)}`)})}}function un(e,t){if("GasCoin"===e.$kind)return{kind:"GasCoin"};if("Result"===e.$kind)return{kind:"Result",index:e.Result};if("NestedResult"===e.$kind)return{kind:"NestedResult",index:e.NestedResult[0],resultIndex:e.NestedResult[1]};if("Input"===e.$kind)return t[e.Input];throw new Error(`Invalid argument ${Object.keys(e)}`)}function cn(e){switch(e.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:e.index};case"NestedResult":return{NestedResult:[e.index,e.resultIndex]};case"Input":return{Input:e.index}}}function ln(e){return Er(Object.entries(e).map(([e,t])=>gr({[e]:t})))}gr({version:hr(1),sender:yr(wr()),expiration:fr(Hr),gasConfig:Jr,inputs:ar(Xr),transactions:ar(on)});const hn=ln({GasCoin:hr(!0),Input:Ir(pr(),nr()),Result:Ir(pr(),nr()),NestedResult:br([Ir(pr(),nr()),Ir(pr(),nr())])}),dn=gr({budget:dr(Tr),price:dr(Tr),owner:dr(Ar),payment:dr(ar(Ur))}),fn=gr({package:jr,module:wr(),function:wr(),typeArguments:ar(wr()),arguments:ar(hn)}),pn=gr({name:wr(),inputs:mr(wr(),Er([hn,ar(hn)])),data:mr(wr(),Sr())}),gn=ln({MoveCall:fn,TransferObjects:gr({objects:ar(hn),address:hn}),SplitCoins:gr({coin:hn,amounts:ar(hn)}),MergeCoins:gr({destination:hn,sources:ar(hn)}),Publish:gr({modules:ar(kr),dependencies:ar(jr)}),MakeMoveVec:gr({type:dr(wr()),elements:ar(hn)}),Upgrade:gr({modules:ar(kr),dependencies:ar(jr),package:jr,ticket:hn}),$Intent:pn}),yn=ln({ImmOrOwnedObject:Ur,SharedObject:gr({objectId:jr,initialSharedVersion:Tr,mutable:cr()}),Receiving:Ur}),mn=ln({Object:yn,Pure:gr({bytes:kr}),UnresolvedPure:gr({value:Sr()}),UnresolvedObject:gr({objectId:jr,version:yr(dr(Tr)),digest:yr(dr(wr())),initialSharedVersion:yr(dr(Tr))})}),wn=ln({None:hr(!0),Epoch:Tr}),bn=gr({version:hr(2),sender:fr(Ar),expiration:fr(wn),gasData:dn,inputs:ar(mn),commands:ar(gn)});const vn={Pure:function(e){return{$kind:"Pure",Pure:{bytes:e instanceof Uint8Array?he(e):e.toBase64()}}},ObjectRef:({objectId:e,digest:t,version:r})=>({$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:t,version:r,objectId:Xe(e)}}}),SharedObjectRef:({objectId:e,mutable:t,initialSharedVersion:r})=>({$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:t,initialSharedVersion:r,objectId:Xe(e)}}}),ReceivingRef:({objectId:e,digest:t,version:r})=>({$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:t,version:r,objectId:Xe(e)}}})};BigInt(1e9);He("0x6");const En="0x2::sui::SUI";function Sn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function On(e,...t){if(!((r=e)instanceof Uint8Array||ArrayBuffer.isView(r)&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function In(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function xn(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}He("0x5");const An=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function jn(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const kn=An?e=>e:e=>jn(e);function Tn(e){for(let t=0;t<e.length;t++)e[t]=jn(e[t])}function Un(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),On(e),e}class Bn{clone(){return this._cloneInto()}}function Cn(e){const t=(t,r)=>e(r).update(Un(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}const $n=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);class Mn extends Bn{constructor(e,t,r={},n,i,s){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Sn(e),Sn(t),Sn(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>n))throw new Error("key length must be undefined or 1.."+n);if(void 0!==r.salt&&r.salt.length!==i)throw new Error("salt must be undefined or "+i);if(void 0!==r.personalization&&r.personalization.length!==s)throw new Error("personalization must be undefined or "+s);this.buffer=new Uint8Array(e),this.buffer32=xn(this.buffer)}update(e){In(this);const{blockLen:t,buffer:r,buffer32:n}=this,i=(e=Un(e)).length,s=e.byteOffset,o=e.buffer;for(let a=0;a<i;){this.pos===t&&(An||Tn(n),this.compress(n,0,!1),An||Tn(n),this.pos=0);const u=Math.min(t-this.pos,i-a),c=s+a;if(u===t&&!(c%4)&&a+u<i){const e=new Uint32Array(o,c,Math.floor((i-a)/4));An||Tn(e);for(let r=0;a+t<i;r+=n.length,a+=t)this.length+=t,this.compress(e,r,!1);An||Tn(e);continue}r.set(e.subarray(a,a+u),this.pos),this.pos+=u,this.length+=u,a+=u}return this}digestInto(e){In(this),function(e,t){On(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(e,this);const{pos:t,buffer32:r}=this;this.finished=!0,this.buffer.subarray(t).fill(0),An||Tn(r),this.compress(r,0,!0),An||Tn(r);const n=xn(e);this.get().forEach((e,t)=>n[t]=kn(e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){const{buffer:t,length:r,finished:n,destroyed:i,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=r,e.finished=n,e.destroyed=i,e.outputLen=s,e.buffer.set(t),e.pos=o,e}}const _n=BigInt(2**32-1),Nn=BigInt(32);function Pn(e,t=!1){return t?{h:Number(e&_n),l:Number(e>>Nn&_n)}:{h:0|Number(e>>Nn&_n),l:0|Number(e&_n)}}var Rn={fromBig:Pn,split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Pn(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<Nn|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};const Ln=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Dn=new Uint32Array(32);function zn(e,t,r,n,i,s){const o=i[s],a=i[s+1];let u=Dn[2*e],c=Dn[2*e+1],l=Dn[2*t],h=Dn[2*t+1],d=Dn[2*r],f=Dn[2*r+1],p=Dn[2*n],g=Dn[2*n+1],y=Rn.add3L(u,l,o);c=Rn.add3H(y,c,h,a),u=0|y,({Dh:g,Dl:p}={Dh:g^c,Dl:p^u}),({Dh:g,Dl:p}={Dh:Rn.rotr32H(g,p),Dl:Rn.rotr32L(g,p)}),({h:f,l:d}=Rn.add(f,d,g,p)),({Bh:h,Bl:l}={Bh:h^f,Bl:l^d}),({Bh:h,Bl:l}={Bh:Rn.rotrSH(h,l,24),Bl:Rn.rotrSL(h,l,24)}),Dn[2*e]=u,Dn[2*e+1]=c,Dn[2*t]=l,Dn[2*t+1]=h,Dn[2*r]=d,Dn[2*r+1]=f,Dn[2*n]=p,Dn[2*n+1]=g}function Vn(e,t,r,n,i,s){const o=i[s],a=i[s+1];let u=Dn[2*e],c=Dn[2*e+1],l=Dn[2*t],h=Dn[2*t+1],d=Dn[2*r],f=Dn[2*r+1],p=Dn[2*n],g=Dn[2*n+1],y=Rn.add3L(u,l,o);c=Rn.add3H(y,c,h,a),u=0|y,({Dh:g,Dl:p}={Dh:g^c,Dl:p^u}),({Dh:g,Dl:p}={Dh:Rn.rotrSH(g,p,16),Dl:Rn.rotrSL(g,p,16)}),({h:f,l:d}=Rn.add(f,d,g,p)),({Bh:h,Bl:l}={Bh:h^f,Bl:l^d}),({Bh:h,Bl:l}={Bh:Rn.rotrBH(h,l,63),Bl:Rn.rotrBL(h,l,63)}),Dn[2*e]=u,Dn[2*e+1]=c,Dn[2*t]=l,Dn[2*t+1]=h,Dn[2*r]=d,Dn[2*r+1]=f,Dn[2*n]=p,Dn[2*n+1]=g}class qn extends Mn{constructor(e={}){super(128,void 0===e.dkLen?64:e.dkLen,e,64,16,16),this.v0l=0|Ln[0],this.v0h=0|Ln[1],this.v1l=0|Ln[2],this.v1h=0|Ln[3],this.v2l=0|Ln[4],this.v2h=0|Ln[5],this.v3l=0|Ln[6],this.v3h=0|Ln[7],this.v4l=0|Ln[8],this.v4h=0|Ln[9],this.v5l=0|Ln[10],this.v5h=0|Ln[11],this.v6l=0|Ln[12],this.v6h=0|Ln[13],this.v7l=0|Ln[14],this.v7h=0|Ln[15];const t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|65536|1<<24,e.salt){const t=xn(Un(e.salt));this.v4l^=kn(t[0]),this.v4h^=kn(t[1]),this.v5l^=kn(t[2]),this.v5h^=kn(t[3])}if(e.personalization){const t=xn(Un(e.personalization));this.v6l^=kn(t[0]),this.v6h^=kn(t[1]),this.v7l^=kn(t[2]),this.v7h^=kn(t[3])}if(e.key){const t=new Uint8Array(this.blockLen);t.set(Un(e.key)),this.update(t)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:s,v3l:o,v3h:a,v4l:u,v4h:c,v5l:l,v5h:h,v6l:d,v6h:f,v7l:p,v7h:g}=this;return[e,t,r,n,i,s,o,a,u,c,l,h,d,f,p,g]}set(e,t,r,n,i,s,o,a,u,c,l,h,d,f,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|u,this.v4h=0|c,this.v5l=0|l,this.v5h=0|h,this.v6l=0|d,this.v6h=0|f,this.v7l=0|p,this.v7h=0|g}compress(e,t,r){this.get().forEach((e,t)=>Dn[t]=e),Dn.set(Ln,16);let{h:n,l:i}=Rn.fromBig(BigInt(this.length));Dn[24]=Ln[8]^i,Dn[25]=Ln[9]^n,r&&(Dn[28]=~Dn[28],Dn[29]=~Dn[29]);let s=0;const o=$n;for(let r=0;r<12;r++)zn(0,4,8,12,e,t+2*o[s++]),Vn(0,4,8,12,e,t+2*o[s++]),zn(1,5,9,13,e,t+2*o[s++]),Vn(1,5,9,13,e,t+2*o[s++]),zn(2,6,10,14,e,t+2*o[s++]),Vn(2,6,10,14,e,t+2*o[s++]),zn(3,7,11,15,e,t+2*o[s++]),Vn(3,7,11,15,e,t+2*o[s++]),zn(0,5,10,15,e,t+2*o[s++]),Vn(0,5,10,15,e,t+2*o[s++]),zn(1,6,11,12,e,t+2*o[s++]),Vn(1,6,11,12,e,t+2*o[s++]),zn(2,7,8,13,e,t+2*o[s++]),Vn(2,7,8,13,e,t+2*o[s++]),zn(3,4,9,14,e,t+2*o[s++]),Vn(3,4,9,14,e,t+2*o[s++]);this.v0l^=Dn[0]^Dn[16],this.v0h^=Dn[1]^Dn[17],this.v1l^=Dn[2]^Dn[18],this.v1h^=Dn[3]^Dn[19],this.v2l^=Dn[4]^Dn[20],this.v2h^=Dn[5]^Dn[21],this.v3l^=Dn[6]^Dn[22],this.v3h^=Dn[7]^Dn[23],this.v4l^=Dn[8]^Dn[24],this.v4h^=Dn[9]^Dn[25],this.v5l^=Dn[10]^Dn[26],this.v5h^=Dn[11]^Dn[27],this.v6l^=Dn[12]^Dn[28],this.v6h^=Dn[13]^Dn[29],this.v7l^=Dn[14]^Dn[30],this.v7h^=Dn[15]^Dn[31],Dn.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Fn=Cn(e=>new qn(e));function Gn(e){if("string"==typeof e)switch(e){case"address":return Zt.Address;case"bool":return Zt.Bool;case"u8":return Zt.U8;case"u16":return Zt.U16;case"u32":return Zt.U32;case"u64":return Zt.U64;case"u128":return Zt.U128;case"u256":return Zt.U256;default:throw new Error(`Unknown type signature ${e}`)}if("vector"in e){if("u8"===e.vector)return Zt.vector(Zt.U8).transform({input:e=>"string"==typeof e?(new TextEncoder).encode(e):e,output:e=>e});const t=Gn(e.vector);return t?Zt.vector(t):null}if("datatype"in e){const t=Xe(e.datatype.package);if(t===Xe("0x1")){if("ascii"===e.datatype.module&&"String"===e.datatype.type)return Zt.String;if("string"===e.datatype.module&&"String"===e.datatype.type)return Zt.String;if("option"===e.datatype.module&&"Option"===e.datatype.type){const t=Gn(e.datatype.typeParameters[0]);return t?Zt.vector(t):null}}if(t===Xe("0x2")&&"object"===e.datatype.module&&"ID"===e.datatype.type)return Zt.Address}return null}function Wn(e){if("string"==typeof e)switch(e){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${e}`)}if("Vector"in e)return{vector:Wn(e.Vector)};if("Struct"in e)return{datatype:{package:e.Struct.address,module:e.Struct.module,type:e.Struct.name,typeParameters:e.Struct.typeArguments.map(Wn)}};if("TypeParameter"in e)return{typeParameter:e.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(e)}`)}const Xn=5e10;async function Hn(e,t,r){return await async function(e,t){const{inputs:r,commands:n}=e,i=[],s=new Set;n.forEach(t=>{if(t.MoveCall){if(t.MoveCall._argumentTypes)return;if(t.MoveCall.arguments.map(t=>"Input"===t.$kind?e.inputs[t.Input]:null).some(e=>e?.UnresolvedPure||e?.UnresolvedObject)){const e=`${t.MoveCall.package}::${t.MoveCall.module}::${t.MoveCall.function}`;s.add(e),i.push(t.MoveCall)}}switch(t.$kind){case"SplitCoins":t.SplitCoins.amounts.forEach(t=>{Kn(t,Zt.U64,e)});break;case"TransferObjects":Kn(t.TransferObjects.address,Zt.Address,e)}});const o=new Map;if(s.size>0){const e=Jn(t);await Promise.all([...s].map(async t=>{const[r,n,i]=t.split("::"),s=await e.getNormalizedMoveFunction({package:r,module:n,function:i});o.set(t,s.parameters.map(e=>function(e){return"object"==typeof e&&"Reference"in e?{ref:"&",body:Wn(e.Reference)}:"object"==typeof e&&"MutableReference"in e?{ref:"&mut",body:Wn(e.MutableReference)}:{ref:null,body:Wn(e)}}(e)))}))}i.length&&await Promise.all(i.map(async e=>{const t=o.get(`${e.package}::${e.module}::${e.function}`);if(!t)return;const r=t.length>0&&function(e){const t="object"==typeof e.body&&"datatype"in e.body?e.body.datatype:null;return!!t&&Xe(t.package)===Xe("0x2")&&"tx_context"===t.module&&"TxContext"===t.type}(t.at(-1))?t.slice(0,t.length-1):t;e._argumentTypes=r}));n.forEach(e=>{if(!e.MoveCall)return;const t=e.MoveCall,n=`${t.package}::${t.module}::${t.function}`,i=t._argumentTypes;if(i){if(i.length!==e.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${n}`);i.forEach((e,n)=>{const i=t.arguments[n];if("Input"!==i.$kind)return;const s=r[i.Input];if(!s.UnresolvedPure&&!s.UnresolvedObject)return;const o=s.UnresolvedPure?.value??s.UnresolvedObject?.objectId,a=Gn(e.body);if(a)return i.type="pure",void(r[r.indexOf(s)]=vn.Pure(a.serialize(o)));if("string"!=typeof o)throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(o,null,2)}`);i.type="object";const u=s.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:o}}:s;r[i.Input]=u})}})}(e,t),await async function(e,t){const r=e.inputs.filter(e=>e.UnresolvedObject&&!(e.UnresolvedObject.version||e.UnresolvedObject?.initialSharedVersion)),n=[...new Set(r.map(e=>He(e.UnresolvedObject.objectId)))],i=n.length?(u=n,c=50,Array.from({length:Math.ceil(u.length/c)},(e,t)=>u.slice(t*c,t*c+c))):[],s=(await Promise.all(i.map(e=>Jn(t).multiGetObjects({ids:e,options:{showOwner:!0}})))).flat(),o=new Map(n.map((e,t)=>[e,s[t]])),a=Array.from(o).filter(([e,t])=>t.error).map(([e,t])=>JSON.stringify(t.error));var u,c;if(a.length)throw new Error(`The following input objects are invalid: ${a.join(", ")}`);const l=s.map(e=>{if(e.error||!e.data)throw new Error(`Failed to fetch object: ${e.error}`);const t=e.data.owner,r=t&&"object"==typeof t&&"Shared"in t?t.Shared.initial_shared_version:null;return{objectId:e.data.objectId,digest:e.data.digest,version:e.data.version,initialSharedVersion:r}}),h=new Map(n.map((e,t)=>[e,l[t]]));for(const[t,r]of e.inputs.entries()){if(!r.UnresolvedObject)continue;let n;const i=Xe(r.UnresolvedObject.objectId),s=h.get(i);r.UnresolvedObject.initialSharedVersion??s?.initialSharedVersion?n=vn.SharedObjectRef({objectId:i,initialSharedVersion:r.UnresolvedObject.initialSharedVersion||s?.initialSharedVersion,mutable:Yn(e,t)}):Zn(e,t)&&(n=vn.ReceivingRef({objectId:i,digest:r.UnresolvedObject.digest??s?.digest,version:r.UnresolvedObject.version??s?.version})),e.inputs[e.inputs.indexOf(r)]=n??vn.ObjectRef({objectId:i,digest:r.UnresolvedObject.digest??s?.digest,version:r.UnresolvedObject.version??s?.version})}}(e,t),t.onlyTransactionKind||(await async function(e,t){e.gasConfig.price||(e.gasConfig.price=String(await Jn(t).getReferenceGasPrice()))}(e,t),await async function(e,t){if(e.gasConfig.budget)return;const r=await Jn(t).dryRunTransactionBlock({transactionBlock:e.build({overrides:{gasData:{budget:String(Xn),payment:[]}}})});if("success"!==r.effects.status.status)throw new Error(`Dry run failed, could not automatically determine a budget: ${r.effects.status.error}`,{cause:r});const n=1000n*BigInt(e.gasConfig.price||1n),i=BigInt(r.effects.gasUsed.computationCost)+n,s=i+BigInt(r.effects.gasUsed.storageCost)-BigInt(r.effects.gasUsed.storageRebate);e.gasConfig.budget=String(s>i?s:i)}(e,t),await async function(e,t){if(!e.gasConfig.payment){const r=(await Jn(t).getCoins({owner:e.gasConfig.owner||e.sender,coinType:En})).data.filter(t=>!e.inputs.find(e=>!!e.Object?.ImmOrOwnedObject&&t.coinObjectId===e.Object.ImmOrOwnedObject.objectId)).map(e=>({objectId:e.coinObjectId,digest:e.digest,version:e.version}));if(!r.length)throw new Error("No valid gas coins found for the transaction.");e.gasConfig.payment=r.map(e=>Or(Ur,e))}}(e,t)),await function(e){e.inputs.forEach((e,t)=>{if("Object"!==e.$kind&&"Pure"!==e.$kind)throw new Error(`Input at index ${t} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}(e),await r()}function Kn(e,t,r){if("Input"!==e.$kind)return;const n=r.inputs[e.Input];"UnresolvedPure"===n.$kind&&(r.inputs[e.Input]=vn.Pure(t.serialize(n.UnresolvedPure.value)))}function Yn(e,t){let r=!1;return e.getInputUses(t,(e,t)=>{if(t.MoveCall&&t.MoveCall._argumentTypes){const n=t.MoveCall.arguments.indexOf(e);r="&"!==t.MoveCall._argumentTypes[n].ref||r}"MakeMoveVec"!==t.$kind&&"MergeCoins"!==t.$kind&&"SplitCoins"!==t.$kind||(r=!0)}),r}function Zn(e,t){let r=!1;return e.getInputUses(t,(e,t)=>{if(t.MoveCall&&t.MoveCall._argumentTypes){const n=t.MoveCall.arguments.indexOf(e);r=function(e){if("object"!=typeof e.body||!("datatype"in e.body))return!1;return"0x2"===e.body.datatype.package&&"transfer"===e.body.datatype.module&&"Receiving"===e.body.datatype.type}(t.MoveCall._argumentTypes[n])||r}}),r}function Jn(e){if(!e.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}function Qn(e){function t(t,r){if("string"==typeof t)return e(Yt(t).serialize(r));if(t instanceof Uint8Array||Ue(t))return e(t);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return t.u8=t=>e(Zt.U8.serialize(t)),t.u16=t=>e(Zt.U16.serialize(t)),t.u32=t=>e(Zt.U32.serialize(t)),t.u64=t=>e(Zt.U64.serialize(t)),t.u128=t=>e(Zt.U128.serialize(t)),t.u256=t=>e(Zt.U256.serialize(t)),t.bool=t=>e(Zt.Bool.serialize(t)),t.string=t=>e(Zt.String.serialize(t)),t.address=t=>e(Zt.Address.serialize(t)),t.id=t.address,t.vector=(t,r)=>e(Zt.vector(Yt(t)).serialize(r)),t.option=(t,r)=>e(Zt.option(Yt(t)).serialize(r)),t}function ei(e){return Xe(e).replace("0x","")}class ti{constructor(e){this.version=2,this.sender=e?.sender??null,this.expiration=e?.expiration??null,this.inputs=e?.inputs??[],this.commands=e?.commands??[],this.gasData=e?.gasData??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){const t=Zt.TransactionKind.parse(e).ProgrammableTransaction;if(!t)throw new Error("Unable to deserialize from bytes.");return ti.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:t.inputs,commands:t.commands})}static fromBytes(e){const t=Zt.TransactionData.parse(e),r=t?.V1,n=r.kind.ProgrammableTransaction;if(!r||!n)throw new Error("Unable to deserialize from bytes.");return ti.restore({version:2,sender:r.sender,expiration:r.expiration,gasData:r.gasData,inputs:n.inputs,commands:n.commands})}static restore(e){return 2===e.version?new ti(Or(Vr,e)):new ti(Or(Vr,function(e){return Or(Vr,{version:2,sender:e.sender??null,expiration:e.expiration?"Epoch"in e.expiration?{Epoch:e.expiration.Epoch}:{None:!0}:null,gasData:{owner:e.gasConfig.owner??null,budget:e.gasConfig.budget?.toString()??null,price:e.gasConfig.price?.toString()??null,payment:e.gasConfig.payment?.map(e=>({digest:e.digest,objectId:e.objectId,version:e.version.toString()}))??null},inputs:e.inputs.map(e=>{if("Input"===e.kind){if(or(Wr,e.value)){const t=Or(Wr,e.value);if(t.Object){if(t.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:t.Object.ImmOrOwned.objectId,version:String(t.Object.ImmOrOwned.version),digest:t.Object.ImmOrOwned.digest}}};if(t.Object.Shared)return{Object:{SharedObject:{mutable:t.Object.Shared.mutable??null,initialSharedVersion:t.Object.Shared.initialSharedVersion,objectId:t.Object.Shared.objectId}}};if(t.Object.Receiving)return{Object:{Receiving:{digest:t.Object.Receiving.digest,version:String(t.Object.Receiving.version),objectId:t.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:he(new Uint8Array(t.Pure))}}}return"object"===e.type?{UnresolvedObject:{objectId:e.value}}:{UnresolvedPure:{value:e.value}}}throw new Error("Invalid input")}),commands:e.transactions.map(e=>{switch(e.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in e.type?Ze.tagToString(e.type.Some):null,elements:e.objects.map(e=>cn(e))}};case"MergeCoins":return{MergeCoins:{destination:cn(e.destination),sources:e.sources.map(e=>cn(e))}};case"MoveCall":{const[t,r,n]=e.target.split("::");return{MoveCall:{package:t,module:r,function:n,typeArguments:e.typeArguments,arguments:e.arguments.map(e=>cn(e))}}}case"Publish":return{Publish:{modules:e.modules.map(e=>he(Uint8Array.from(e))),dependencies:e.dependencies}};case"SplitCoins":return{SplitCoins:{coin:cn(e.coin),amounts:e.amounts.map(e=>cn(e))}};case"TransferObjects":return{TransferObjects:{objects:e.objects.map(e=>cn(e)),address:cn(e.address)}};case"Upgrade":return{Upgrade:{modules:e.modules.map(e=>he(Uint8Array.from(e))),dependencies:e.dependencies,package:e.packageId,ticket:cn(e.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(e)}`)})})}(e)))}static getDigestFromBytes(e){const t=function(e,t){const r=Array.from(`${e}::`).map(e=>e.charCodeAt(0)),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),Fn(n,{dkLen:32})}("TransactionData",e);return ae(t)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:t,onlyTransactionKind:r}={}){const n=this.inputs,i=this.commands,s={ProgrammableTransaction:{inputs:n,commands:i}};if(r)return Zt.TransactionKind.serialize(s,{maxSize:e}).toBytes();const o=t?.expiration??this.expiration,a=t?.sender??this.sender,u={...this.gasData,...t?.gasConfig,...t?.gasData};if(!a)throw new Error("Missing transaction sender");if(!u.budget)throw new Error("Missing gas budget");if(!u.payment)throw new Error("Missing gas payment");if(!u.price)throw new Error("Missing gas price");const c={sender:ei(a),expiration:o||{None:!0},gasData:{payment:u.payment,owner:ei(this.gasData.owner??a),price:BigInt(u.price),budget:BigInt(u.budget)},kind:{ProgrammableTransaction:{inputs:n,commands:i}}};return Zt.TransactionData.serialize({V1:c},{maxSize:e}).toBytes()}addInput(e,t){const r=this.inputs.length;return this.inputs.push(t),{Input:r,type:e,$kind:"Input"}}getInputUses(e,t){this.mapArguments((r,n)=>("Input"===r.$kind&&r.Input===e&&t(r,n),r))}mapArguments(e){for(const t of this.commands)switch(t.$kind){case"MoveCall":t.MoveCall.arguments=t.MoveCall.arguments.map(r=>e(r,t));break;case"TransferObjects":t.TransferObjects.objects=t.TransferObjects.objects.map(r=>e(r,t)),t.TransferObjects.address=e(t.TransferObjects.address,t);break;case"SplitCoins":t.SplitCoins.coin=e(t.SplitCoins.coin,t),t.SplitCoins.amounts=t.SplitCoins.amounts.map(r=>e(r,t));break;case"MergeCoins":t.MergeCoins.destination=e(t.MergeCoins.destination,t),t.MergeCoins.sources=t.MergeCoins.sources.map(r=>e(r,t));break;case"MakeMoveVec":t.MakeMoveVec.elements=t.MakeMoveVec.elements.map(r=>e(r,t));break;case"Upgrade":t.Upgrade.ticket=e(t.Upgrade.ticket,t);break;case"$Intent":const r=t.$Intent.inputs;t.$Intent.inputs={};for(const[n,i]of Object.entries(r))t.$Intent.inputs[n]=Array.isArray(i)?i.map(r=>e(r,t)):e(i,t);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${t.$kind}`)}}replaceCommand(e,t){if(!Array.isArray(t))return void(this.commands[e]=t);const r=t.length-1;this.commands.splice(e,1,...t),0!==r&&this.mapArguments(t=>{switch(t.$kind){case"Result":t.Result>e&&(t.Result+=r);break;case"NestedResult":t.NestedResult[0]>e&&(t.NestedResult[0]+=r)}return t})}getDigest(){const e=this.build({onlyTransactionKind:!1});return ti.getDigestFromBytes(e)}snapshot(){return Or(Vr,this)}}function ri(e){return"string"==typeof e?Xe(e):e.Object?e.Object.ImmOrOwnedObject?Xe(e.Object.ImmOrOwnedObject.objectId):e.Object.Receiving?Xe(e.Object.Receiving.objectId):Xe(e.Object.SharedObject.objectId):e.UnresolvedObject?Xe(e.UnresolvedObject.objectId):void 0}var ni,ii,si,oi,ai,ui,ci,li,hi,di=e=>{throw TypeError(e)},fi=(e,t,r)=>t.has(e)||di("Cannot "+r),pi=(e,t,r)=>(fi(e,t,"read from private field"),r?r.call(e):t.get(e)),gi=(e,t,r)=>t.has(e)?di("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),yi=(e,t,r,n)=>(fi(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),mi=(e,t,r)=>(fi(e,t,"access private method"),r);function wi(e,t=1/0){const r=[],n=t=>r[t]??(r[t]={$kind:"NestedResult",NestedResult:[e,t]});return new Proxy({$kind:"Result",Result:e},{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(e,r){if(r in e)return Reflect.get(e,r);if(r===Symbol.iterator)return function*(){let e=0;for(;e<t;)yield n(e),e++};if("symbol"==typeof r)return;const i=parseInt(r,10);return Number.isNaN(i)||i<0?void 0:n(i)}})}const bi=Symbol.for("@mysten/transaction");function vi(e){return!!e&&"object"==typeof e&&!0===e[bi]}const Ei={buildPlugins:new Map,serializationPlugins:new Map},Si=Symbol.for("@mysten/transaction/registry");function Oi(){try{const e=globalThis;return e[Si]||(e[Si]=Ei),e[Si]}catch(e){return Ei}}ni=new WeakMap,ii=new WeakMap,si=new WeakMap,oi=new WeakMap,ai=new WeakSet,ui=function(e){return Ue(e)?this.pure(e):mi(this,ai,ci).call(this,e)},ci=function(e){return Or(Br,"function"==typeof e?e(this):e)},li=async function(e){if(!e.onlyTransactionKind&&!pi(this,oi).sender)throw new Error("Missing transaction sender");await mi(this,ai,hi).call(this,[...pi(this,ii),Hn],e)},hi=async function(e,t){const r=n=>{if(n>=e.length)return()=>{};const i=e[n];return async()=>{const e=r(n+1);let s=!1,o=!1;if(await i(pi(this,oi),t,async()=>{if(s)throw new Error(`next() was call multiple times in TransactionPlugin ${n}`);s=!0,await e(),o=!0}),!s)throw new Error(`next() was not called in TransactionPlugin ${n}`);if(!o)throw new Error(`next() was not awaited in TransactionPlugin ${n}`)}};await r(0)()};let Ii=class e{constructor(){gi(this,ai),gi(this,ni),gi(this,ii),gi(this,si,new Map),gi(this,oi),this.object=function(e){function t(t){return e(t)}return t.system=()=>t("0x5"),t.clock=()=>t("0x6"),t.random=()=>t("0x8"),t.denyList=()=>t("0x403"),t.option=({type:e,value:t})=>r=>r.moveCall({typeArguments:[e],target:"0x1::option::"+(null===t?"none":"some"),arguments:null===t?[]:[r.object(t)]}),t}(e=>{if("function"==typeof e)return this.object(e(this));if("object"==typeof e&&or(Br,e))return e;const t=ri(e),r=pi(this,oi).inputs.find(e=>t===ri(e));return r?.Object?.SharedObject&&"object"==typeof e&&e.Object?.SharedObject&&(r.Object.SharedObject.mutable=r.Object.SharedObject.mutable||e.Object.SharedObject.mutable),r?{$kind:"Input",Input:pi(this,oi).inputs.indexOf(r),type:"object"}:pi(this,oi).addInput("object","string"==typeof e?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:Xe(e)}}:e)});const e=Oi();yi(this,oi,new ti),yi(this,ii,[...e.buildPlugins.values()]),yi(this,ni,[...e.serializationPlugins.values()])}static fromKind(t){const r=new e;return yi(r,oi,ti.fromKindBytes("string"==typeof t?ce(t):t)),r}static from(t){const r=new e;return vi(t)?yi(r,oi,new ti(t.getData())):"string"==typeof t&&t.startsWith("{")?yi(r,oi,ti.restore(JSON.parse(t))):yi(r,oi,ti.fromBytes("string"==typeof t?ce(t):t)),r}static registerGlobalSerializationPlugin(e,t){Oi().serializationPlugins.set(e,t??e)}static unregisterGlobalSerializationPlugin(e){Oi().serializationPlugins.delete(e)}static registerGlobalBuildPlugin(e,t){Oi().buildPlugins.set(e,t??e)}static unregisterGlobalBuildPlugin(e){Oi().buildPlugins.delete(e)}addSerializationPlugin(e){pi(this,ni).push(e)}addBuildPlugin(e){pi(this,ii).push(e)}addIntentResolver(e,t){if(pi(this,si).has(e)&&pi(this,si).get(e)!==t)throw new Error(`Intent resolver for ${e} already exists`);pi(this,si).set(e,t)}setSender(e){pi(this,oi).sender=e}setSenderIfNotSet(e){pi(this,oi).sender||(pi(this,oi).sender=e)}setExpiration(e){pi(this,oi).expiration=e?Or(zr,e):null}setGasPrice(e){pi(this,oi).gasConfig.price=String(e)}setGasBudget(e){pi(this,oi).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){null==pi(this,oi).gasData.budget&&(pi(this,oi).gasConfig.budget=String(e))}setGasOwner(e){pi(this,oi).gasConfig.owner=e}setGasPayment(e){pi(this,oi).gasConfig.payment=e.map(e=>Or(Ur,e))}get blockData(){return an(pi(this,oi).snapshot())}getData(){return pi(this,oi).snapshot()}get[bi](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:Qn(e=>Ue(e)?pi(this,oi).addInput("pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):pi(this,oi).addInput("pure",or(Dr,e)?Or(Dr,e):e instanceof Uint8Array?vn.Pure(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(vn.ObjectRef(...e))}receivingRef(...e){return this.object(vn.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(vn.SharedObjectRef(...e))}add(e){if("function"==typeof e)return e(this);return wi(pi(this,oi).commands.push(e)-1)}splitCoins(e,t){const r=qr.SplitCoins("string"==typeof e?this.object(e):mi(this,ai,ci).call(this,e),t.map(e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e?this.pure.u64(e):mi(this,ai,ui).call(this,e)));return wi(pi(this,oi).commands.push(r)-1,t.length)}mergeCoins(e,t){return this.add(qr.MergeCoins(this.object(e),t.map(e=>this.object(e))))}publish({modules:e,dependencies:t}){return this.add(qr.Publish({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,package:r,ticket:n}){return this.add(qr.Upgrade({modules:e,dependencies:t,package:r,ticket:this.object(n)}))}moveCall({arguments:e,...t}){return this.add(qr.MoveCall({...t,arguments:e?.map(e=>mi(this,ai,ui).call(this,e))}))}transferObjects(e,t){return this.add(qr.TransferObjects(e.map(e=>this.object(e)),"string"==typeof t?this.pure.address(t):mi(this,ai,ui).call(this,t)))}makeMoveVec({type:e,elements:t}){return this.add(qr.MakeMoveVec({type:e,elements:t.map(e=>this.object(e))}))}serialize(){return JSON.stringify(an(pi(this,oi).snapshot()))}async toJSON(e={}){return await this.prepareForSerialization(e),JSON.stringify(Or(bn,pi(this,oi).snapshot()),(e,t)=>"bigint"==typeof t?t.toString():t,2)}async sign(e){const{signer:t,...r}=e,n=await this.build(r);return t.signTransaction(n)}async build(e={}){return await this.prepareForSerialization(e),await mi(this,ai,li).call(this,e),pi(this,oi).build({onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await mi(this,ai,li).call(this,e),pi(this,oi).getDigest()}async prepareForSerialization(e){const t=new Set;for(const e of pi(this,oi).commands)e.$Intent&&t.add(e.$Intent.name);const r=[...pi(this,ni)];for(const n of t)if(!e.supportedIntents?.includes(n)){if(!pi(this,si).has(n))throw new Error(`Missing intent resolver for ${n}`);r.push(pi(this,si).get(n))}await mi(this,ai,hi).call(this,r,e)}};class xi extends Ne{constructor(){super(...arguments),this.core=this}}class Ai extends Error{}class ji extends Ai{constructor(e,t){super(t),this.code=e}static fromResponse(e,t){switch(e.code){case"notExists":return new ji(e.code,`Object ${e.object_id} does not exist`);case"dynamicFieldNotFound":return new ji(e.code,`Dynamic field not found for object ${e.parent_object_id}`);case"deleted":return new ji(e.code,`Object ${e.object_id} has been deleted`);case"displayError":return new ji(e.code,`Display error: ${e.error}`);default:return new ji(e.code,"Unknown error while loading object"+(t?` ${t}`:""))}}}var ki,Ti=e=>{throw TypeError(e)},Ui=(e,t,r)=>t.has(e)||Ti("Cannot "+r),Bi=(e,t,r)=>(Ui(e,t,"read from private field"),r?r.call(e):t.get(e));class Ci extends xi{constructor(e){var t,r,n;super({network:e.network}),t=this,(r=ki).has(t)?Ti("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,n),((e,t,r,n)=>{Ui(e,t,"write to private field"),n?n.call(e,r):t.set(e,r)})(this,ki,e)}async getObjects(e){const t=function(e,t){const r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}(e.objectIds,50),r=[];for(const e of t){const t=await Bi(this,ki).multiGetObjects({ids:e,options:{showOwner:!0,showType:!0}});for(const[n,i]of t.entries())i.error?r.push(ji.fromResponse(i.error,e[n])):r.push($i(i.data))}return{objects:r}}async getOwnedObjects(e){const t=await Bi(this,ki).getOwnedObjects({owner:e.address,limit:e.limit,cursor:e.cursor});return{objects:t.data.map(e=>{if(e.error)throw ji.fromResponse(e.error);return $i(e.data)}),hasNextPage:t.hasNextPage,cursor:t.nextCursor??null}}async getCoins(e){const t=await Bi(this,ki).getCoins({owner:e.address,coinType:e.coinType});return{objects:t.data.map(t=>({id:t.coinObjectId,version:t.version,digest:t.digest,balance:BigInt(t.balance),type:`0x2::coin::Coin<${t.coinType}>`,content:Pi.serialize({id:t.coinObjectId,balance:{value:t.balance}}).toBytes(),owner:{$kind:"ObjectOwner",ObjectOwner:e.address}})),hasNextPage:t.hasNextPage,cursor:t.nextCursor??null}}async getBalance(e){const t=await Bi(this,ki).getBalance({owner:e.address,coinType:e.coinType});return{balance:{coinType:t.coinType,balance:BigInt(t.totalBalance)}}}async getAllBalances(e){return{balances:(await Bi(this,ki).getAllBalances({owner:e.address})).map(e=>({coinType:e.coinType,balance:BigInt(e.totalBalance)})),hasNextPage:!1,cursor:null}}async getTransaction(e){return{transaction:_i(await Bi(this,ki).getTransactionBlock({digest:e.digest,options:{showRawInput:!0,showObjectChanges:!0,showRawEffects:!0,showEvents:!0}}))}}async executeTransaction(e){return{transaction:_i(await Bi(this,ki).executeTransactionBlock({transactionBlock:e.transaction,signature:e.signatures,options:{showEffects:!0,showEvents:!0}}))}}async dryRunTransaction(e){const t=Ii.from(e.transaction),r=await Bi(this,ki).dryRunTransactionBlock({transactionBlock:e.transaction});return{transaction:{digest:await t.getDigest(),effects:r.effects,signatures:[],bcs:e.transaction}}}async getReferenceGasPrice(){return{referenceGasPrice:await Bi(this,ki).getReferenceGasPrice()}}}function $i(e){return{id:e.objectId,version:e.version,digest:e.digest,type:e.type,content:"moveObject"===e.bcs?.dataType?ce(e.bcs.bcsBytes):new Uint8Array,owner:Mi(e.owner)}}function Mi(e){if("Immutable"===e)return{$kind:"Immutable",Immutable:!0};if("ConsensusV2"in e)return{$kind:"ConsensusV2",ConsensusV2Owner:{authenticator:{$kind:"SingleOwner",SingleOwner:e.ConsensusV2.authenticator.SingleOwner},startVersion:e.ConsensusV2.start_version}};if("AddressOwner"in e)return{$kind:"AddressOwner",AddressOwner:e.AddressOwner};if("ObjectOwner"in e)return{$kind:"ObjectOwner",ObjectOwner:e.ObjectOwner};if("Shared"in e)return{$kind:"Shared",Shared:{initialSharedVersion:e.Shared.initial_shared_version}};throw new Error(`Unknown owner type: ${JSON.stringify(e)}`)}function _i(e){const t=Zt.SenderSignedData.parse(ce(e.rawTransaction))[0];return{digest:e.digest,effects:new Uint8Array(e.rawEffects),bcs:Zt.TransactionData.serialize(t.intentMessage.value).toBytes(),signatures:t.txSignatures}}ki=new WeakMap;const Ni=Zt.struct("Balance",{value:Zt.u64()}),Pi=Zt.struct("Coin",{id:Zt.Address,balance:Ni}),Ri="CoinWithBalance",Li=We("0x2::sui::SUI");function Di({type:e=Li,balance:t,useGasCoin:r=!0}){return n=>{n.addIntentResolver(Ri,Vi);const i="gas"===e?e:We(e);return n.add(qr.Intent({name:Ri,inputs:{},data:{type:i===Li&&r?"gas":i,balance:BigInt(t)}}))}}const zi=gr({type:wr(),balance:ur()});async function Vi(e,t,r){const n=new Set,i=new Map;if(!e.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(const t of e.commands)if("$Intent"===t.$kind&&t.$Intent.name===Ri){const{type:e,balance:r}=Or(zi,t.$Intent.data);"gas"!==e&&r>0n&&n.add(e),i.set(e,(i.get(e)??0n)+r)}const s=new Set;for(const t of e.inputs)t.Object?.ImmOrOwnedObject&&s.add(t.Object.ImmOrOwnedObject.objectId),t.UnresolvedObject?.objectId&&s.add(t.UnresolvedObject.objectId);const o=new Map,a=Jn(t);await Promise.all([...n].map(async t=>{o.set(t,await async function({coinType:e,balance:t,client:r,owner:n,usedIds:i}){let s=t;const o=[];return a();async function a(t=null){const{data:u,hasNextPage:c,nextCursor:l}=await r.getCoins({owner:n,coinType:e,cursor:t}),h=u.sort((e,t)=>Number(BigInt(t.balance)-BigInt(e.balance)));for(const e of h){if(i.has(e.coinObjectId))continue;const t=BigInt(e.balance);if(o.push(e),s-=t,s<=0)return o}if(c)return a(l);throw new Error(`Not enough coins of type ${e} to satisfy requested balance`)}}({coinType:t,balance:i.get(t),client:a,owner:e.sender,usedIds:s}))}));const u=new Map;u.set("gas",{$kind:"GasCoin",GasCoin:!0});for(const[t,r]of e.commands.entries()){if("$Intent"!==r.$kind||r.$Intent.name!==Ri)continue;const{type:n,balance:i}=r.$Intent.data;if(0n===i){e.replaceCommand(t,qr.MoveCall({target:"0x2::coin::zero",typeArguments:[n]}));continue}const s=[];if(!u.has(n)){const[t,...r]=o.get(n).map(t=>e.addInput("object",vn.ObjectRef({objectId:t.coinObjectId,digest:t.digest,version:t.version})));r.length>0&&s.push(qr.MergeCoins(t,r)),u.set(n,t)}s.push(qr.SplitCoins(u.get(n),[e.addInput("pure",vn.Pure(Zt.u64().serialize(i)))])),e.replaceCommand(t,s),e.mapArguments(e=>"Result"===e.$kind&&e.Result===t?{$kind:"NestedResult",NestedResult:[t+s.length-1,0]}:e)}return r()}const qi=Symbol.for("@mysten/SuiClient");class Fi extends Ne{constructor(e){super({network:e.network??"unknown"}),this.core=new Ci(this),this.transport=e.transport??new C({url:e.url})}get[qi](){return!0}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!qe(Xe(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!qe(Xe(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!qe(Xe(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!qe(Xe(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType]})}async call(e,t){return await this.transport.request({method:e,params:t})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!qe(Xe(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!Fe(He(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){e.ids.forEach(e=>{if(!e||!Fe(He(e)))throw new Error(`Invalid Sui Object id ${e}`)});if(e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,"descending"===(e.order||"descending")]})}async getTransactionBlock(e){if(!Ve(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){e.digests.forEach(e=>{if(!Ve(e))throw new Error(`Invalid Transaction digest ${e}`)});if(e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock({transactionBlock:e,signature:t,options:r,requestType:n}){const i=await this.transport.request({method:"sui_executeTransactionBlock",params:["string"==typeof e?e:he(e),Array.isArray(t)?t:[t],r]});if("WaitForLocalExecution"===n)try{await this.waitForTransaction({digest:i.digest})}catch(e){}return i}async signAndExecuteTransaction({transaction:e,signer:t,...r}){let n;e instanceof Uint8Array?n=e:(e.setSenderIfNotSet(t.toSuiAddress()),n=await e.build({client:this}));const{signature:i,bytes:s}=await t.signTransaction(n);return this.executeTransactionBlock({transactionBlock:s,signature:i,...r})}async getTotalTransactionBlocks(){const e=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(e)}async getReferenceGasPrice(){const e=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(e)}async getStakes(e){if(!e.owner||!qe(Xe(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedSuiIds.forEach(e=>{if(!e||!Fe(He(e)))throw new Error(`Invalid Sui Stake id ${e}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,"descending"===(e.order||"descending")]})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){let t;if(vi(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=he(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if("string"==typeof e.transactionBlock)t=e.transactionBlock;else{if(!(e.transactionBlock instanceof Uint8Array))throw new Error("Unknown transaction block format.");t=he(e.transactionBlock)}return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,t,e.gasPrice?.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:he(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!Fe(He(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){const e=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(e)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e?.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e?.descendingOrder]})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const e=await this.getCheckpoint({id:"0"});return fe(ue(e.digest).slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name]})}async resolveNameServiceNames({format:e="dot",...t}){const{nextCursor:r,hasNextPage:n,data:i}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[t.address,t.cursor,t.limit]});return{hasNextPage:n,nextCursor:r,data:i.map(t=>function(e,t="at"){const r=e.toLowerCase();let n;if(r.includes("@")){if(!Pe.test(r))throw new Error(`Invalid SuiNS name ${e}`);const[t,i]=r.split("@");n=[...t?t.split("."):[],i]}else{if(!Re.test(r))throw new Error(`Invalid SuiNS name ${e}`);n=r.split(".").slice(0,-1)}return"dot"===t?`${n.join(".")}.sui`:`${n.slice(0,-1).join(".")}@${n[n.length-1]}`}(t,e))}}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e?.version]})}async waitForTransaction({signal:e,timeout:t=6e4,pollInterval:r=2e3,...n}){const i=AbortSignal.timeout(t),s=new Promise((e,t)=>{i.addEventListener("abort",()=>t(i.reason))});for(s.catch(()=>{});!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(n)}catch(e){await Promise.race([new Promise(e=>setTimeout(e,r)),s])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}experimental_asClientExtension(){return{name:"jsonRPC",register:()=>this}}}var Gi=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Wi=Math.ceil,Xi=Math.floor,Hi="[BigNumber Error] ",Ki=Hi+"Number primitive has more than 15 significant digits: ",Yi=1e14,Zi=14,Ji=9007199254740991,Qi=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],es=1e7,ts=1e9;function rs(e){var t=0|e;return e>0||e===t?t:t-1}function ns(e){for(var t,r,n=1,i=e.length,s=e[0]+"";n<i;){for(t=e[n++]+"",r=Zi-t.length;r--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function is(e,t){var r,n,i=e.c,s=t.c,o=e.s,a=t.s,u=e.e,c=t.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=u==c,!i||!s)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return u==c?0:u>c^r?1:-1}function ss(e,t,r,n){if(e<t||e>r||e!==Xi(e))throw Error(Hi+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function os(e){var t=e.c.length-1;return rs(e.e/Zi)==t&&e.c[t]%2!=0}function as(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function us(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var cs,ls,hs,ds,fs=function e(t){var r,n,i,s,o,a,u,c,l,h,d=A.prototype={constructor:A,toString:null,valueOf:null},f=new A(1),p=20,g=4,y=-7,m=21,w=-1e7,b=1e7,v=!1,E=1,S=0,O={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz",x=!0;function A(e,t){var r,s,o,a,u,c,l,h,d=this;if(!(d instanceof A))return new A(e,t);if(null==t){if(e&&!0===e._isBigNumber)return d.s=e.s,void(!e.c||e.e>b?d.c=d.e=null:e.e<w?d.c=[d.e=0]:(d.e=e.e,d.c=e.c.slice()));if((c="number"==typeof e)&&0*e==0){if(d.s=1/e<0?(e=-e,-1):1,e===~~e){for(a=0,u=e;u>=10;u/=10,a++);return void(a>b?d.c=d.e=null:(d.e=a,d.c=[e]))}h=String(e)}else{if(!Gi.test(h=String(e)))return i(d,h,c);d.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(a=h.indexOf("."))>-1&&(h=h.replace(".","")),(u=h.search(/e/i))>0?(a<0&&(a=u),a+=+h.slice(u+1),h=h.substring(0,u)):a<0&&(a=h.length)}else{if(ss(t,2,I.length,"Base"),10==t&&x)return U(d=new A(e),p+d.e+1,g);if(h=String(e),c="number"==typeof e){if(0*e!=0)return i(d,h,c,t);if(d.s=1/e<0?(h=h.slice(1),-1):1,A.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(Ki+e)}else d.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(r=I.slice(0,t),a=u=0,l=h.length;u<l;u++)if(r.indexOf(s=h.charAt(u))<0){if("."==s){if(u>a){a=l;continue}}else if(!o&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){o=!0,u=-1,a=0;continue}return i(d,String(e),c,t)}c=!1,(a=(h=n(h,t,10,d.s)).indexOf("."))>-1?h=h.replace(".",""):a=h.length}for(u=0;48===h.charCodeAt(u);u++);for(l=h.length;48===h.charCodeAt(--l););if(h=h.slice(u,++l)){if(l-=u,c&&A.DEBUG&&l>15&&(e>Ji||e!==Xi(e)))throw Error(Ki+d.s*e);if((a=a-u-1)>b)d.c=d.e=null;else if(a<w)d.c=[d.e=0];else{if(d.e=a,d.c=[],u=(a+1)%Zi,a<0&&(u+=Zi),u<l){for(u&&d.c.push(+h.slice(0,u)),l-=Zi;u<l;)d.c.push(+h.slice(u,u+=Zi));u=Zi-(h=h.slice(u)).length}else u-=l;for(;u--;h+="0");d.c.push(+h)}}else d.c=[d.e=0]}function j(e,t,r,n){var i,s,o,a,u;if(null==r?r=g:ss(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)u=ns(e.c),u=1==n||2==n&&(o<=y||o>=m)?as(u,o):us(u,o,"0");else if(s=(e=U(new A(e),t,r)).e,a=(u=ns(e.c)).length,1==n||2==n&&(t<=s||s<=y)){for(;a<t;u+="0",a++);u=as(u,s)}else if(t-=o,u=us(u,s,"0"),s+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-a)>0)for(s+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function k(e,t){for(var r,n,i=1,s=new A(e[0]);i<e.length;i++)(!(n=new A(e[i])).s||(r=is(s,n))===t||0===r&&s.s===t)&&(s=n);return s}function T(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*Zi-1)>b?e.c=e.e=null:r<w?e.c=[e.e=0]:(e.e=r,e.c=t),e}function U(e,t,r,n){var i,s,o,a,u,c,l,h=e.c,d=Qi;if(h){e:{for(i=1,a=h[0];a>=10;a/=10,i++);if((s=t-i)<0)s+=Zi,o=t,u=h[c=0],l=Xi(u/d[i-o-1]%10);else if((c=Wi((s+1)/Zi))>=h.length){if(!n)break e;for(;h.length<=c;h.push(0));u=l=0,i=1,o=(s%=Zi)-Zi+1}else{for(u=a=h[c],i=1;a>=10;a/=10,i++);l=(o=(s%=Zi)-Zi+i)<0?0:Xi(u/d[i-o-1]%10)}if(n=n||t<0||null!=h[c+1]||(o<0?u:u%d[i-o-1]),n=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(s>0?o>0?u/d[i-o]:0:h[c-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,n?(t-=e.e+1,h[0]=d[(Zi-t%Zi)%Zi],e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=c,a=1,c--):(h.length=c+1,a=d[Zi-s],h[c]=o>0?Xi(u/d[i-o]%d[o])*a:0),n)for(;;){if(0==c){for(s=1,o=h[0];o>=10;o/=10,s++);for(o=h[0]+=a,a=1;o>=10;o/=10,a++);s!=a&&(e.e++,h[0]==Yi&&(h[0]=1));break}if(h[c]+=a,h[c]!=Yi)break;h[c--]=0,a=1}for(s=h.length;0===h[--s];h.pop());}e.e>b?e.c=e.e=null:e.e<w&&(e.c=[e.e=0])}return e}function B(e){var t,r=e.e;return null===r?e.toString():(t=ns(e.c),t=r<=y||r>=m?as(t,r):us(t,r,"0"),e.s<0?"-"+t:t)}return A.clone=e,A.ROUND_UP=0,A.ROUND_DOWN=1,A.ROUND_CEIL=2,A.ROUND_FLOOR=3,A.ROUND_HALF_UP=4,A.ROUND_HALF_DOWN=5,A.ROUND_HALF_EVEN=6,A.ROUND_HALF_CEIL=7,A.ROUND_HALF_FLOOR=8,A.EUCLID=9,A.config=A.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(Hi+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(ss(r=e[t],0,ts,t),p=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(ss(r=e[t],0,8,t),g=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(ss(r[0],-ts,0,t),ss(r[1],0,ts,t),y=r[0],m=r[1]):(ss(r,-ts,ts,t),y=-(m=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)ss(r[0],-ts,-1,t),ss(r[1],1,ts,t),w=r[0],b=r[1];else{if(ss(r,-ts,ts,t),!r)throw Error(Hi+t+" cannot be zero: "+r);w=-(b=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(Hi+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw v=!r,Error(Hi+"crypto unavailable");v=r}else v=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(ss(r=e[t],0,9,t),E=r),e.hasOwnProperty(t="POW_PRECISION")&&(ss(r=e[t],0,ts,t),S=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(Hi+t+" not an object: "+r);O=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(Hi+t+" invalid: "+r);x="0123456789"==r.slice(0,10),I=r}}return{DECIMAL_PLACES:p,ROUNDING_MODE:g,EXPONENTIAL_AT:[y,m],RANGE:[w,b],CRYPTO:v,MODULO_MODE:E,POW_PRECISION:S,FORMAT:O,ALPHABET:I}},A.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!A.DEBUG)return!0;var t,r,n=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&i>=-ts&&i<=ts&&i===Xi(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%Zi)<1&&(t+=Zi),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=Yi||r!==Xi(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(Hi+"Invalid BigNumber: "+e)},A.maximum=A.max=function(){return k(arguments,-1)},A.minimum=A.min=function(){return k(arguments,1)},A.random=(s=9007199254740992,o=Math.random()*s&2097151?function(){return Xi(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,i,s,a=0,u=[],c=new A(f);if(null==e?e=p:ss(e,0,ts),i=Wi(e/Zi),v)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));a<i;)(s=131072*t[a]+(t[a+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[a]=r[0],t[a+1]=r[1]):(u.push(s%1e14),a+=2);a=i/2}else{if(!crypto.randomBytes)throw v=!1,Error(Hi+"crypto unavailable");for(t=crypto.randomBytes(i*=7);a<i;)(s=281474976710656*(31&t[a])+1099511627776*t[a+1]+4294967296*t[a+2]+16777216*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])>=9e15?crypto.randomBytes(7).copy(t,a):(u.push(s%1e14),a+=7);a=i/7}if(!v)for(;a<i;)(s=o())<9e15&&(u[a++]=s%1e14);for(i=u[--a],e%=Zi,i&&e&&(s=Qi[Zi-e],u[a]=Xi(i/s)*s);0===u[a];u.pop(),a--);if(a<0)u=[n=0];else{for(n=-1;0===u[0];u.splice(0,1),n-=Zi);for(a=1,s=u[0];s>=10;s/=10,a++);a<Zi&&(n-=Zi-a)}return c.e=n,c.c=u,c}),A.sum=function(){for(var e=1,t=arguments,r=new A(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var i,s,o=[0],a=0,u=e.length;a<u;){for(s=o.length;s--;o[s]*=t);for(o[0]+=n.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,s,o,a){var u,c,l,h,d,f,y,m,w=n.indexOf("."),b=p,v=g;for(w>=0&&(h=S,S=0,n=n.replace(".",""),f=(m=new A(i)).pow(n.length-w),S=h,m.c=t(us(ns(f.c),f.e,"0"),10,s,e),m.e=m.c.length),l=h=(y=t(n,i,s,a?(u=I,e):(u=e,I))).length;0==y[--h];y.pop());if(!y[0])return u.charAt(0);if(w<0?--l:(f.c=y,f.e=l,f.s=o,y=(f=r(f,m,b,v,s)).c,d=f.r,l=f.e),w=y[c=l+b+1],h=s/2,d=d||c<0||null!=y[c+1],d=v<4?(null!=w||d)&&(0==v||v==(f.s<0?3:2)):w>h||w==h&&(4==v||d||6==v&&1&y[c-1]||v==(f.s<0?8:7)),c<1||!y[0])n=d?us(u.charAt(1),-b,u.charAt(0)):u.charAt(0);else{if(y.length=c,d)for(--s;++y[--c]>s;)y[c]=0,c||(++l,y=[1].concat(y));for(h=y.length;!y[--h];);for(w=0,n="";w<=h;n+=u.charAt(y[w++]));n=us(n,l,u.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,s,o,a=0,u=e.length,c=t%es,l=t/es|0;for(e=e.slice();u--;)a=((i=c*(s=e[u]%es)+(n=l*s+(o=e[u]/es|0)*c)%es*es+a)/r|0)+(n/es|0)+l*o,e[u]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,s,o,a){var u,c,l,h,d,f,p,g,y,m,w,b,v,E,S,O,I,x=n.s==i.s?1:-1,j=n.c,k=i.c;if(!(j&&j[0]&&k&&k[0]))return new A(n.s&&i.s&&(j?!k||j[0]!=k[0]:k)?j&&0==j[0]||!k?0*x:x/0:NaN);for(y=(g=new A(x)).c=[],x=s+(c=n.e-i.e)+1,a||(a=Yi,c=rs(n.e/Zi)-rs(i.e/Zi),x=x/Zi|0),l=0;k[l]==(j[l]||0);l++);if(k[l]>(j[l]||0)&&c--,x<0)y.push(1),h=!0;else{for(E=j.length,O=k.length,l=0,x+=2,(d=Xi(a/(k[0]+1)))>1&&(k=e(k,d,a),j=e(j,d,a),O=k.length,E=j.length),v=O,w=(m=j.slice(0,O)).length;w<O;m[w++]=0);I=k.slice(),I=[0].concat(I),S=k[0],k[1]>=a/2&&S++;do{if(d=0,(u=t(k,m,O,w))<0){if(b=m[0],O!=w&&(b=b*a+(m[1]||0)),(d=Xi(b/S))>1)for(d>=a&&(d=a-1),p=(f=e(k,d,a)).length,w=m.length;1==t(f,m,p,w);)d--,r(f,O<p?I:k,p,a),p=f.length,u=1;else 0==d&&(u=d=1),p=(f=k.slice()).length;if(p<w&&(f=[0].concat(f)),r(m,f,w,a),w=m.length,-1==u)for(;t(k,m,O,w)<1;)d++,r(m,O<w?I:k,w,a),w=m.length}else 0===u&&(d++,m=[0]);y[l++]=d,m[0]?m[w++]=j[v]||0:(m=[j[v]],w=1)}while((v++<E||null!=m[0])&&x--);h=null!=m[0],y[0]||y.splice(0,1)}if(a==Yi){for(l=1,x=y[0];x>=10;x/=10,l++);U(g,s+(g.e=l+c*Zi-1)+1,o,h)}else g.e=c,g.r=+h;return g}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,c=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,h=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,r,n){var i,s=r?t:t.replace(h,"");if(l.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(a,function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t}),n&&(i=n,s=s.replace(u,"$1").replace(c,"0.$1")),t!=s))return new A(s,i);if(A.DEBUG)throw Error(Hi+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},d.absoluteValue=d.abs=function(){var e=new A(this);return e.s<0&&(e.s=1),e},d.comparedTo=function(e,t){return is(this,new A(e,t))},d.decimalPlaces=d.dp=function(e,t){var r,n,i,s=this;if(null!=e)return ss(e,0,ts),null==t?t=g:ss(t,0,8),U(new A(s),e+s.e+1,t);if(!(r=s.c))return null;if(n=((i=r.length-1)-rs(this.e/Zi))*Zi,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},d.dividedBy=d.div=function(e,t){return r(this,new A(e,t),p,g)},d.dividedToIntegerBy=d.idiv=function(e,t){return r(this,new A(e,t),0,1)},d.exponentiatedBy=d.pow=function(e,t){var r,n,i,s,o,a,u,c,l=this;if((e=new A(e)).c&&!e.isInteger())throw Error(Hi+"Exponent not an integer: "+B(e));if(null!=t&&(t=new A(t)),o=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return c=new A(Math.pow(+B(l),o?e.s*(2-os(e)):+B(e))),t?c.mod(t):c;if(a=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new A(NaN);(n=!a&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||o&&l.c[1]>=24e7:l.c[0]<8e13||o&&l.c[0]<=9999975e7)))return s=l.s<0&&os(e)?-0:0,l.e>-1&&(s=1/s),new A(a?1/s:s);S&&(s=Wi(S/Zi+2))}for(o?(r=new A(.5),a&&(e.s=1),u=os(e)):u=(i=Math.abs(+B(e)))%2,c=new A(f);;){if(u){if(!(c=c.times(l)).c)break;s?c.c.length>s&&(c.c.length=s):n&&(c=c.mod(t))}if(i){if(0===(i=Xi(i/2)))break;u=i%2}else if(U(e=e.times(r),e.e+1,1),e.e>14)u=os(e);else{if(0===(i=+B(e)))break;u=i%2}l=l.times(l),s?l.c&&l.c.length>s&&(l.c.length=s):n&&(l=l.mod(t))}return n?c:(a&&(c=f.div(c)),t?c.mod(t):s?U(c,S,g,undefined):c)},d.integerValue=function(e){var t=new A(this);return null==e?e=g:ss(e,0,8),U(t,t.e+1,e)},d.isEqualTo=d.eq=function(e,t){return 0===is(this,new A(e,t))},d.isFinite=function(){return!!this.c},d.isGreaterThan=d.gt=function(e,t){return is(this,new A(e,t))>0},d.isGreaterThanOrEqualTo=d.gte=function(e,t){return 1===(t=is(this,new A(e,t)))||0===t},d.isInteger=function(){return!!this.c&&rs(this.e/Zi)>this.c.length-2},d.isLessThan=d.lt=function(e,t){return is(this,new A(e,t))<0},d.isLessThanOrEqualTo=d.lte=function(e,t){return-1===(t=is(this,new A(e,t)))||0===t},d.isNaN=function(){return!this.s},d.isNegative=function(){return this.s<0},d.isPositive=function(){return this.s>0},d.isZero=function(){return!!this.c&&0==this.c[0]},d.minus=function(e,t){var r,n,i,s,o=this,a=o.s;if(t=(e=new A(e,t)).s,!a||!t)return new A(NaN);if(a!=t)return e.s=-t,o.plus(e);var u=o.e/Zi,c=e.e/Zi,l=o.c,h=e.c;if(!u||!c){if(!l||!h)return l?(e.s=-t,e):new A(h?o:NaN);if(!l[0]||!h[0])return h[0]?(e.s=-t,e):new A(l[0]?o:3==g?-0:0)}if(u=rs(u),c=rs(c),l=l.slice(),a=u-c){for((s=a<0)?(a=-a,i=l):(c=u,i=h),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(s=(a=l.length)<(t=h.length))?a:t,a=t=0;t<n;t++)if(l[t]!=h[t]){s=l[t]<h[t];break}if(s&&(i=l,l=h,h=i,e.s=-e.s),(t=(n=h.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=Yi-1;n>a;){if(l[--n]<h[n]){for(r=n;r&&!l[--r];l[r]=t);--l[r],l[n]+=Yi}l[n]-=h[n]}for(;0==l[0];l.splice(0,1),--c);return l[0]?T(e,l,c):(e.s=3==g?-1:1,e.c=[e.e=0],e)},d.modulo=d.mod=function(e,t){var n,i,s=this;return e=new A(e,t),!s.c||!e.s||e.c&&!e.c[0]?new A(NaN):!e.c||s.c&&!s.c[0]?new A(s):(9==E?(i=e.s,e.s=1,n=r(s,e,0,3),e.s=i,n.s*=i):n=r(s,e,0,E),(e=s.minus(n.times(e))).c[0]||1!=E||(e.s=s.s),e)},d.multipliedBy=d.times=function(e,t){var r,n,i,s,o,a,u,c,l,h,d,f,p,g,y,m=this,w=m.c,b=(e=new A(e,t)).c;if(!(w&&b&&w[0]&&b[0]))return!m.s||!e.s||w&&!w[0]&&!b||b&&!b[0]&&!w?e.c=e.e=e.s=null:(e.s*=m.s,w&&b?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=rs(m.e/Zi)+rs(e.e/Zi),e.s*=m.s,(u=w.length)<(h=b.length)&&(p=w,w=b,b=p,i=u,u=h,h=i),i=u+h,p=[];i--;p.push(0));for(g=Yi,y=es,i=h;--i>=0;){for(r=0,d=b[i]%y,f=b[i]/y|0,s=i+(o=u);s>i;)r=((c=d*(c=w[--o]%y)+(a=f*c+(l=w[o]/y|0)*d)%y*y+p[s]+r)/g|0)+(a/y|0)+f*l,p[s--]=c%g;p[s]=r}return r?++n:p.splice(0,1),T(e,p,n)},d.negated=function(){var e=new A(this);return e.s=-e.s||null,e},d.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new A(e,t)).s,!i||!t)return new A(NaN);if(i!=t)return e.s=-t,n.minus(e);var s=n.e/Zi,o=e.e/Zi,a=n.c,u=e.c;if(!s||!o){if(!a||!u)return new A(i/0);if(!a[0]||!u[0])return u[0]?e:new A(a[0]?n:0*i)}if(s=rs(s),o=rs(o),a=a.slice(),i=s-o){for(i>0?(o=s,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=u.length)<0&&(r=u,u=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+u[t]+i)/Yi|0,a[t]=Yi===a[t]?0:a[t]%Yi;return i&&(a=[i].concat(a),++o),T(e,a,o)},d.precision=d.sd=function(e,t){var r,n,i,s=this;if(null!=e&&e!==!!e)return ss(e,1,ts),null==t?t=g:ss(t,0,8),U(new A(s),e,t);if(!(r=s.c))return null;if(n=(i=r.length-1)*Zi+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&s.e+1>n&&(n=s.e+1),n},d.shiftedBy=function(e){return ss(e,-9007199254740991,Ji),this.times("1e"+e)},d.squareRoot=d.sqrt=function(){var e,t,n,i,s,o=this,a=o.c,u=o.s,c=o.e,l=p+4,h=new A("0.5");if(1!==u||!a||!a[0])return new A(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+B(o)))||u==1/0?(((t=ns(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=rs((c+1)/2)-(c<0||c%2),n=new A(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):n=new A(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(s=n,n=h.times(s.plus(r(o,s,l,1))),ns(s.c).slice(0,u)===(t=ns(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(U(n,n.e+p+2,1),e=!n.times(n).eq(o));break}if(!i&&(U(s,s.e+p+2,0),s.times(s).eq(o))){n=s;break}l+=4,u+=4,i=1}return U(n,n.e+p+1,g,e)},d.toExponential=function(e,t){return null!=e&&(ss(e,0,ts),e++),j(this,e,t,1)},d.toFixed=function(e,t){return null!=e&&(ss(e,0,ts),e=e+this.e+1),j(this,e,t)},d.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=O;else if("object"!=typeof r)throw Error(Hi+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var s,o=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,c=r.groupSeparator||"",l=o[0],h=o[1],d=i.s<0,f=d?l.slice(1):l,p=f.length;if(u&&(s=a,a=u,u=s,p-=s),a>0&&p>0){for(s=p%a||a,l=f.substr(0,s);s<p;s+=a)l+=c+f.substr(s,a);u>0&&(l+=c+f.slice(s)),d&&(l="-"+l)}n=h?l+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):l}return(r.prefix||"")+n+(r.suffix||"")},d.toFraction=function(e){var t,n,i,s,o,a,u,c,l,h,d,p,y=this,m=y.c;if(null!=e&&(!(u=new A(e)).isInteger()&&(u.c||1!==u.s)||u.lt(f)))throw Error(Hi+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+B(u));if(!m)return new A(y);for(t=new A(f),l=n=new A(f),i=c=new A(f),p=ns(m),o=t.e=p.length-y.e-1,t.c[0]=Qi[(a=o%Zi)<0?Zi+a:a],e=!e||u.comparedTo(t)>0?o>0?t:l:u,a=b,b=1/0,u=new A(p),c.c[0]=0;h=r(u,t,0,1),1!=(s=n.plus(h.times(i))).comparedTo(e);)n=i,i=s,l=c.plus(h.times(s=l)),c=s,t=u.minus(h.times(s=t)),u=s;return s=r(e.minus(n),i,0,1),c=c.plus(s.times(l)),n=n.plus(s.times(i)),c.s=l.s=y.s,d=r(l,i,o*=2,g).minus(y).abs().comparedTo(r(c,n,o,g).minus(y).abs())<1?[l,i]:[c,n],b=a,d},d.toNumber=function(){return+B(this)},d.toPrecision=function(e,t){return null!=e&&ss(e,1,ts),j(this,e,t,2)},d.toString=function(e){var t,r=this,i=r.s,s=r.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=s<=y||s>=m?as(ns(r.c),s):us(ns(r.c),s,"0"):10===e&&x?t=us(ns((r=U(new A(r),p+s+1,g)).c),r.e,"0"):(ss(e,2,I.length,"Base"),t=n(us(ns(r.c),s,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},d.valueOf=d.toJSON=function(){return B(this)},d._isBigNumber=!0,d[Symbol.toStringTag]="BigNumber",d[Symbol.for("nodejs.util.inspect.custom")]=d.valueOf,null!=t&&A.set(t),A}();function ps(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gs,ys=function(){if(ds)return hs;ds=1;const e=(ls||(ls=1,cs=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(255!==t[s])throw new TypeError(i+" is ambiguous");t[s]=n}var o=e.length,a=e.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var s=(e.length-r)*u+1>>>0,c=new Uint8Array(s);e[r];){var l=e.charCodeAt(r);if(l>255)return;var h=t[l];if(255===h)return;for(var d=0,f=s-1;(0!==h||d<i)&&-1!==f;f--,d++)h+=o*c[f]>>>0,c[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,r++}for(var p=s-i;p!==s&&0===c[p];)p++;for(var g=new Uint8Array(n+(s-p)),y=n;p!==s;)g[y++]=c[p++];return g}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var u=(s-i)*c+1>>>0,l=new Uint8Array(u);i!==s;){for(var h=t[i],d=0,f=u-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=u-n;p!==u&&0===l[p];)p++;for(var g=a.repeat(r);p<u;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}),cs);return hs=e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}(),ms=ps(ys),ws={exports:{}};var bs,vs=(gs||(gs=1,bs=ws,function(){var e={};!function(e){e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(e,r,n,i,s){for(var o,a,u,c,l,h,d,f,p,g,y,m,w;s>=64;){for(o=r[0],a=r[1],u=r[2],c=r[3],l=r[4],h=r[5],d=r[6],f=r[7],g=0;g<16;g++)y=i+4*g,e[g]=(255&n[y])<<24|(255&n[y+1])<<16|(255&n[y+2])<<8|255&n[y+3];for(g=16;g<64;g++)m=((p=e[g-2])>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,w=((p=e[g-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,e[g]=(m+e[g-7]|0)+(w+e[g-16]|0);for(g=0;g<64;g++)m=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&h^~l&d)|0)+(f+(t[g]+e[g]|0)|0)|0,w=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0,f=d,d=h,h=l,l=c+m|0,c=u,u=a,a=o,o=m+w|0;r[0]+=o,r[1]+=a,r[2]+=u,r[3]+=c,r[4]+=l,r[5]+=h,r[6]+=d,r[7]+=f,i+=64,s-=64}return i}var n=function(){function t(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return t.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},t.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},t.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[n++],t--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(n=r(this.temp,this.state,e,n,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[n++],t--;return this},t.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed,n=this.bufferLength,i=t/536870912|0,s=t<<3,o=t%64<56?64:128;this.buffer[n]=128;for(var a=n+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=i>>>24&255,this.buffer[o-7]=i>>>16&255,this.buffer[o-6]=i>>>8&255,this.buffer[o-5]=i>>>0&255,this.buffer[o-4]=s>>>24&255,this.buffer[o-3]=s>>>16&255,this.buffer[o-2]=s>>>8&255,this.buffer[o-1]=s>>>0&255,r(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(a=0;a<8;a++)e[4*a+0]=this.state[a]>>>24&255,e[4*a+1]=this.state[a]>>>16&255,e[4*a+2]=this.state[a]>>>8&255,e[4*a+3]=this.state[a]>>>0&255;return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},t.prototype._restoreState=function(e,t){for(var r=0;r<this.state.length;r++)this.state[r]=e[r];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},t}();e.Hash=n;var i=function(){function e(e){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)(new n).update(e).finish(t).clean();else for(var r=0;r<e.length;r++)t[r]=e[r];for(r=0;r<t.length;r++)t[r]^=54;for(this.inner.update(t),r=0;r<t.length;r++)t[r]^=106;for(this.outer.update(t),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),r=0;r<t.length;r++)t[r]=0}return e.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},e.prototype.update=function(e){return this.inner.update(e),this},e.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e}();function s(e){var t=(new n).update(e),r=t.digest();return t.clean(),r}function o(e,t){var r=new i(e).update(t),n=r.digest();return r.clean(),n}function a(e,t,r,n){var i=n[0];if(0===i)throw new Error("hkdf: cannot expand more");t.reset(),i>1&&t.update(e),r&&t.update(r),t.update(n),t.finish(e),n[0]++}e.HMAC=i,e.hash=s,e.default=s,e.hmac=o;var u=new Uint8Array(e.digestLength);function c(e,t,r,n){void 0===t&&(t=u),void 0===n&&(n=32);for(var s=new Uint8Array([1]),c=o(t,e),l=new i(c),h=new Uint8Array(l.digestLength),d=h.length,f=new Uint8Array(n),p=0;p<n;p++)d===h.length&&(a(h,l,r,s),d=0),f[p]=h[d++];return l.clean(),h.fill(0),s.fill(0),f}function l(e,t,r,n){for(var s=new i(e),o=s.digestLength,a=new Uint8Array(4),u=new Uint8Array(o),c=new Uint8Array(o),l=new Uint8Array(n),h=0;h*o<n;h++){var d=h+1;a[0]=d>>>24&255,a[1]=d>>>16&255,a[2]=d>>>8&255,a[3]=d>>>0&255,s.reset(),s.update(t),s.update(a),s.finish(c);for(var f=0;f<o;f++)u[f]=c[f];for(f=2;f<=r;f++){s.reset(),s.update(c).finish(c);for(var p=0;p<o;p++)u[p]^=c[p]}for(f=0;f<o&&h*o+f<n;f++)l[h*o+f]=u[f]}for(h=0;h<o;h++)u[h]=c[h]=0;for(h=0;h<4;h++)a[h]=0;return s.clean(),l}e.hkdf=c,e.pbkdf2=l}(e);var t=e.default;for(var r in e)t[r]=e[r];bs.exports=t}()),ws.exports),Es=ps(vs);function Ss(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0}function Os(e,t){for(var r,n,i=e.replace(/[^A-Za-z0-9+/]/g,""),s=i.length,o=t?Math.ceil((3*s+1>>2)/t)*t:3*s+1>>2,a=new Uint8Array(o),u=0,c=0,l=0;l<s;l++)if(n=3&l,u|=Ss(i.charCodeAt(l))<<6*(3-n),3===n||s-l===1){for(r=0;r<3&&c<o;r++,c++)a[c]=u>>>(16>>>r&24)&255;u=0}return a}function Is(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65}function xs(e){for(var t=2,r="",n=e.length,i=0,s=0;s<n;s++)t=s%3,i|=e[s]<<(16>>>t&24),2!==t&&e.length-s!==1||(r+=String.fromCodePoint(Is(i>>>18&63),Is(i>>>12&63),Is(i>>>6&63),Is(63&i)),i=0);return r.slice(0,r.length-2+t)+(2===t?"":1===t?"=":"==")}function As(e){let t=(/^BFC/i.test(e)?e.slice(3,-4):e.replace("0x","")).match(/.{1,2}/g).map(e=>parseInt(e,16));if(null===t)throw new Error(`Unable to parse HEX: ${e}`);return Uint8Array.from(t)}function js(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}function ks(e,t){let r=new Uint8Array(t),n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e/=BigInt(256),n+=1;return r}var Ts=e=>ms.encode(e),Us=e=>ms.decode(e),Bs=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),t=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+t).toString(10)}read128(){let e=BigInt(this.read64()),t=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+t).toString(10)}read256(){let e=BigInt(this.read128()),t=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+t).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=function(e){let t=0,r=0,n=0;for(;;){let i=e[n];if(n+=1,t|=(127&i)<<r,!(128&i))break;r+=7}return{value:t,length:n}}(t);return this.shift(n),r}readVec(e){let t=this.readULEB(),r=[];for(let n=0;n<t;n++)r.push(e(this,n,t));return r}},Cs=class{constructor({size:e=1024,maxSize:t,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t||e,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return ks(BigInt(e),8).forEach(e=>this.write8(e)),this}write128(e){return ks(BigInt(e),16).forEach(e=>this.write8(e)),this}write256(e){return ks(BigInt(e),32).forEach(e=>this.write8(e)),this}writeULEB(e){return function(e){let t=[],r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}(e).forEach(e=>this.write8(e)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((r,n)=>t(this,r,n,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return function(e,t){switch(t){case"base58":return Ts(e);case"base64":return xs(e);case"hex":return js(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(this.toBytes(),e)}};var $s=class e{constructor(t){if(this.types=new Map,this.counter=0,t instanceof e)return this.schema=t.schema,void(this.types=new Map(t.types));if(this.schema=t,this.registerAddressType(e.ADDRESS,t.addressLength,t.addressEncoding),this.registerVectorType(t.vectorType),t.types&&t.types.structs)for(let e of Object.keys(t.types.structs))this.registerStructType(e,t.types.structs[e]);if(t.types&&t.types.enums)for(let e of Object.keys(t.types.enums))this.registerEnumType(e,t.types.enums[e]);if(t.types&&t.types.aliases)for(let e of Object.keys(t.types.aliases))this.registerAlias(e,t.types.aliases[e]);!1!==t.withPrimitives&&function(e){e.registerType(Ms.U8,function(e,t){return e.write8(t)},function(e){return e.read8()},e=>e<256),e.registerType(Ms.U16,function(e,t){return e.write16(t)},function(e){return e.read16()},e=>e<65536),e.registerType(Ms.U32,function(e,t){return e.write32(t)},function(e){return e.read32()},e=>e<=4294967296n),e.registerType(Ms.U64,function(e,t){return e.write64(t)},function(e){return e.read64()}),e.registerType(Ms.U128,function(e,t){return e.write128(t)},function(e){return e.read128()}),e.registerType(Ms.U256,function(e,t){return e.write256(t)},function(e){return e.read256()}),e.registerType(Ms.BOOL,function(e,t){return e.write8(t)},function(e){return"1"===e.read8().toString(10)}),e.registerType(Ms.STRING,function(e,t){return e.writeVec(Array.from(t),(e,t)=>e.write8(t.charCodeAt(0)))},function(e){return e.readVec(e=>e.read8()).map(e=>String.fromCharCode(Number(e))).join("")},e=>!0),e.registerType(Ms.HEX,function(e,t){return e.writeVec(Array.from(As(t)),(e,t)=>e.write8(t))},function(e){let t=e.readVec(e=>e.read8());return js(new Uint8Array(t))}),e.registerType(Ms.BASE58,function(e,t){return e.writeVec(Array.from(Us(t)),(e,t)=>e.write8(t))},function(e){let t=e.readVec(e=>e.read8());return Ts(new Uint8Array(t))}),e.registerType(Ms.BASE64,function(e,t){return e.writeVec(Array.from(Os(t)),(e,t)=>e.write8(t))},function(e){let t=e.readVec(e=>e.read8());return xs(new Uint8Array(t))})}(this)}tempKey(){return"bcs-struct-"+ ++this.counter}ser(t,r,n){if("string"==typeof t||Array.isArray(t)){const{name:e,params:i}=this.parseTypeName(t);return this.getTypeInterface(e).encode(this,r,n,i)}if("object"==typeof t){const i=this.tempKey();return new e(this).registerStructType(i,t).ser(i,r,n)}throw new Error(`Incorrect type passed into the '.ser()' function. \n${JSON.stringify(t)}`)}de(t,r,n){if("string"==typeof r){if(!n)throw new Error("To pass a string to `bcs.de`, specify encoding");r=function(e,t){switch(t){case"base58":return Us(e);case"base64":return Os(e);case"hex":return As(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(r,n)}if("string"==typeof t||Array.isArray(t)){const{name:e,params:n}=this.parseTypeName(t);return this.getTypeInterface(e).decode(this,r,n)}if("object"==typeof t){const i=new e(this),s=this.tempKey();return i.registerStructType(s,t).de(s,r,n)}throw new Error(`Incorrect type passed into the '.de()' function. \n${JSON.stringify(t)}`)}hasType(e){return this.types.has(e)}registerAlias(e,t){return this.types.set(e,t),this}registerType(e,t,r,n=()=>!0){const{name:i,params:s}=this.parseTypeName(e);return this.types.set(i,{encode(e,t,r,n){const i=s.reduce((e,t,r)=>Object.assign(e,{[t]:n[r]}),{});return this._encodeRaw.call(e,new Cs(r),t,n,i)},decode(e,t,r){const n=s.reduce((e,t,n)=>Object.assign(e,{[t]:r[n]}),{});return this._decodeRaw.call(e,new Bs(t),r,n)},_encodeRaw(e,r,s,o){if(n(r))return t.call(this,e,r,s,o);throw new Error(`Validation failed for type ${i}, data: ${r}`)},_decodeRaw(e,t,n){return r.call(this,e,t,n)}}),this}registerAddressType(e,t,r="hex"){switch(r){case"base64":return this.registerType(e,function(e,t){return Os(t).reduce((e,t)=>e.write8(t),e)},function(e){return xs(e.readBytes(t))});case"hex":return this.registerType(e,function(e,t){return As(t).reduce((e,t)=>e.write8(t),e)},function(e){const r=js(e.readBytes(t)).padStart(2*t,"0");return`BFC${r}${js(Es((new TextEncoder).encode(r))).slice(0,4)}`});default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(e){let{name:t,params:r}=this.parseTypeName(e);if(r.length>1)throw new Error("Vector can have only one type parameter; got "+t);return this.registerType(e,function(t,r,n,i){return t.writeVec(r,(t,r)=>{let s=n[0];if(!s)throw new Error(`Incorrect number of type parameters passed a to vector '${e}'`);let{name:o,params:a}=this.parseTypeName(s);if(this.hasType(o))return this.getTypeInterface(o)._encodeRaw.call(this,t,r,a,i);if(!(o in i))throw new Error(`Unable to find a matching type definition for ${o} in vector; make sure you passed a generic`);let{name:u,params:c}=this.parseTypeName(i[o]);return this.getTypeInterface(u)._encodeRaw.call(this,t,r,c,i)})},function(t,r,n){return t.readVec(t=>{let i=r[0];if(!i)throw new Error(`Incorrect number of type parameters passed to a vector '${e}'`);let{name:s,params:o}=this.parseTypeName(i);if(this.hasType(s))return this.getTypeInterface(s)._decodeRaw.call(this,t,o,n);if(!(s in n))throw new Error(`Unable to find a matching type definition for ${s} in vector; make sure you passed a generic`);let{name:a,params:u}=this.parseTypeName(n[s]);return this.getTypeInterface(a)._decodeRaw.call(this,t,u,n)})})}registerStructType(e,t){for(let e in t){let r=this.tempKey(),n=t[e];Array.isArray(n)||"string"==typeof n||(t[e]=r,this.registerStructType(r,n))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:s}=this.parseTypeName(e);return this.registerType(e,function(e,t,o,a){if(!t||t.constructor!==Object)throw new Error(`Expected ${i} to be an Object, got: ${t}`);if(o.length!==s.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${s.length}, got: ${o.length}`);for(let u of n){if(!(u in t))throw new Error(`Struct ${i} requires field ${u}:${r[u]}`);const{name:n,params:c}=this.parseTypeName(r[u]);if(s.includes(n)){const r=s.indexOf(n);let{name:c,params:l}=this.parseTypeName(o[r]);if(this.hasType(c)){this.getTypeInterface(c)._encodeRaw.call(this,e,t[u],l,a);continue}if(!(c in a))throw new Error(`Unable to find a matching type definition for ${c} in ${i}; make sure you passed a generic`);let{name:h,params:d}=this.parseTypeName(a[c]);this.getTypeInterface(h)._encodeRaw.call(this,e,t[u],d,a)}else this.getTypeInterface(n)._encodeRaw.call(this,e,t[u],c,a)}return e},function(e,t,o){if(t.length!==s.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${s.length}, got: ${t.length}`);let a={};for(let u of n){const{name:n,params:c}=this.parseTypeName(r[u]);if(s.includes(n)){const r=s.indexOf(n);let{name:c,params:l}=this.parseTypeName(t[r]);if(this.hasType(c)){a[u]=this.getTypeInterface(c)._decodeRaw.call(this,e,l,o);continue}if(!(c in o))throw new Error(`Unable to find a matching type definition for ${c} in ${i}; make sure you passed a generic`);let{name:h,params:d}=this.parseTypeName(o[c]);a[u]=this.getTypeInterface(h)._decodeRaw.call(this,e,d,o)}else a[u]=this.getTypeInterface(n)._decodeRaw.call(this,e,c,o)}return a})}registerEnumType(e,t){for(let e in t){let r=this.tempKey(),n=t[e];null===n||Array.isArray(n)||"string"==typeof n||(t[e]=r,this.registerStructType(r,n))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:s}=this.parseTypeName(e);return this.registerType(e,function(e,t,o,a){if(!t)throw new Error(`Unable to write enum "${i}", missing data.\nReceived: "${t}"`);if("object"!=typeof t)throw new Error(`Incorrect data passed into enum "${i}", expected object with properties: "${n.join(" | ")}".\nReceived: "${JSON.stringify(t)}"`);let u=Object.keys(t)[0];if(void 0===u)throw new Error(`Empty object passed as invariant of the enum "${i}"`);let c=n.indexOf(u);if(-1===c)throw new Error(`Unknown invariant of the enum "${i}", allowed values: "${n.join(" | ")}"; received "${u}"`);let l=n[c],h=r[l];if(e.write8(c),null===h)return e;let d=s.indexOf(h),f=-1===d?h:o[d];{let{name:r,params:n}=this.parseTypeName(f);return this.getTypeInterface(r)._encodeRaw.call(this,e,t[u],n,a)}},function(e,t,o){let a=e.readULEB(),u=n[a],c=r[u];if(-1===a)throw new Error(`Decoding type mismatch, expected enum "${i}" invariant index, received "${a}"`);if(null===c)return{[u]:!0};let l=s.indexOf(c),h=-1===l?c:t[l];{let{name:t,params:r}=this.parseTypeName(h);return{[u]:this.getTypeInterface(t)._decodeRaw.call(this,e,r,o)}}})}getTypeInterface(e){let t=this.types.get(e);if("string"==typeof t){let e=[];for(;"string"==typeof t;){if(e.includes(t))throw new Error(`Recursive definition found: ${e.join(" -> ")} -> ${t}`);e.push(t),t=this.types.get(t)}}if(void 0===t)throw new Error(`Type ${e} is not registered`);return t}parseTypeName(e){if(Array.isArray(e)){let[t,...r]=e;return{name:t,params:r}}if("string"!=typeof e)throw new Error(`Illegal type passed as a name of the type: ${e}`);let[t,r]=this.schema.genericSeparators||["<",">"],n=e.indexOf(t),i=Array.from(e).reverse().indexOf(r);if(-1===n&&-1===i)return{name:e,params:[]};if(-1===n||-1===i)throw new Error(`Unclosed generic in name '${e}'`);let s=e.slice(0,n),o=function(e,t=["<",">"]){const[r,n]=t,i=[];let s="",o=0;for(let t=0;t<e.length;t++){const a=e[t];a===r&&o++,a===n&&o--,0!==o||","!==a?s+=a:(i.push(s.trim()),s="")}return i.push(s.trim()),i}(e.slice(n+1,e.length-i-1),this.schema.genericSeparators);return{name:s,params:o}}};$s.U8="u8",$s.U16="u16",$s.U32="u32",$s.U64="u64",$s.U128="u128",$s.U256="u256",$s.BOOL="bool",$s.VECTOR="vector",$s.ADDRESS="address",$s.STRING="string",$s.HEX="hex-string",$s.BASE58="base58-string",$s.BASE64="base64-string";var Ms=$s;var _s,Ns={},Ps={};var Rs,Ls,Ds={};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function zs(){return Rs||(Rs=1,Ds.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+e[t+h],h+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+e[t+h],h+=d,l-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=c}return(f?-1:1)*o*Math.pow(2,s-n)},Ds.write=function(e,t,r,n,i,s){var o,a,u,c=8*s-i-1,l=(1<<c)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(t*u-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+f]=255&o,f+=p,o/=256,c-=8);e[r+f-p]|=128*g}),Ds}
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Vs=(Ls||(Ls=1,function(e){const t=function(){if(_s)return Ps;_s=1,Ps.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},Ps.toByteArray=function(e){var n,i,o=s(e),a=o[0],u=o[1],c=new r(function(e,t,r){return 3*(t+r)/4-r}(0,a,u)),l=0,h=u>0?a-4:a;for(i=0;i<h;i+=4)n=t[e.charCodeAt(i)]<<18|t[e.charCodeAt(i+1)]<<12|t[e.charCodeAt(i+2)]<<6|t[e.charCodeAt(i+3)],c[l++]=n>>16&255,c[l++]=n>>8&255,c[l++]=255&n;return 2===u&&(n=t[e.charCodeAt(i)]<<2|t[e.charCodeAt(i+1)]>>4,c[l++]=255&n),1===u&&(n=t[e.charCodeAt(i)]<<10|t[e.charCodeAt(i+1)]<<4|t[e.charCodeAt(i+2)]>>2,c[l++]=n>>8&255,c[l++]=255&n),c},Ps.fromByteArray=function(t){for(var r,n=t.length,i=n%3,s=[],o=16383,u=0,c=n-i;u<c;u+=o)s.push(a(t,u,u+o>c?c:u+o));return 1===i?(r=t[n-1],s.push(e[r>>2]+e[r<<4&63]+"==")):2===i&&(r=(t[n-2]<<8)+t[n-1],s.push(e[r>>10]+e[r>>4&63]+e[r<<2&63]+"=")),s.join("")};for(var e=[],t=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function o(t){return e[t>>18&63]+e[t>>12&63]+e[t>>6&63]+e[63&t]}function a(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(o(n));return i.join("")}return t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63,Ps}(),r=zs(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|f(e,t);let n=s(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);const i=function(e){if(o.isBuffer(e)){const t=0|d(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||H(e.length)?s(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),s(e<0?0:0|d(e))}function l(e){const t=e.length<0?0:0|d(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,o.prototype),n}function d(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(i)return n?-1:F(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return j(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(H(n))return o;e[r+o]=n}return o}function b(e,t,r,n){return W(F(t,e.length-r),e,r,n)}function v(e,t,r,n){return W(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return W(G(t),e,r,n)}function S(e,t,r,n){return W(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function O(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function I(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(X(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=o.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!o.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const u=Math.min(s,a),c=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<u;++e)if(c[e]!==l[e]){s=c[e],a=l[e];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function A(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function j(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=K[e[n]];return i}function T(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function U(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,i){D(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function $(e,t,r,n,i){D(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function M(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function _(e,t,n,i,s){return t=+t,n>>>=0,s||M(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,s){return t=+t,n>>>=0,s||M(e,0,n,8),r.write(e,t,n,i,52,8),n+8}o.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=Y(function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=Y(function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||U(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||U(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=Y(function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),o.prototype.readBigInt64BE=Y(function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||U(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||U(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||U(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||U(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||B(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||B(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=Y(function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Y(function(e,t=0){return $(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=Y(function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Y(function(e,t=0){return $(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return _(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return _(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=o.isBuffer(e)?e:o.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};const P={};function R(e,t,r){P[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function L(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function D(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new P.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,s)}function z(e,t){if("number"!=typeof e)throw new P.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw z(e,r),new P.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new P.ERR_BUFFER_OUT_OF_BOUNDS;throw new P.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}R("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),R("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),R("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=L(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=L(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);const q=/[^+/0-9A-Za-z-_]/g;function F(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function G(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!=e}const K=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Y(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}}(Ns)),Ns);function qs(e){return"0x"+(e.startsWith("BFC")?e.slice(3):e).slice(0,64)}function Fs(e){return e instanceof Error?e.message:String(e)}function Gs(e){const t=(new TextEncoder).encode(e);return new Ms({genericSeparators:["<",">"],vectorType:"vector",addressLength:32,addressEncoding:"hex"}).ser("vector<u8>",Array.from(t)).toBytes()}function Ws(e,t){if(e===t)throw new Error("Type X and Type Y cannot be the same");return 1===function(e,t){const r=e.length,n=t.length,i=Math.min(r,n);for(let r=0;r<i;r++){if(e[r]<t[r])return 1;if(e[r]>t[r])return 2}return r<n?1:r>n?2:0}(Gs(e),Gs(t))}function Xs(e,t){return Ws(e,t)?[e,t]:[t,e]}class Hs{static MAX_FEE_RATE=new fs(2e3);static FEE_SCALE=new fs(1e4);static U64_MAX=new fs("18446744073709551615");static mulToU128(e,t){return e.multipliedBy(t)}static square(e){return e.sqrt()}static mulDiv(e,t,r){if(r.isZero())throw new Error("Division by zero");const n=e.multipliedBy(t).dividedBy(r).integerValue(fs.ROUND_DOWN);if(n.isGreaterThan(Hs.U64_MAX))throw new Error("U64 overflow");return n}static calcOptimalCoinValues(e,t,r,n){if(r.isZero()&&n.isZero())return[e,t];const i=this.mulDiv(e,n,r);if(i.isLessThanOrEqualTo(t))return[e,i];{const i=this.mulDiv(t,r,n);if(i.isGreaterThan(e))throw new Error("Over limit");return[i,t]}}static getFeeToTeam(e,t){return this.mulDiv(t,e,this.FEE_SCALE).dividedBy(5).integerValue(fs.ROUND_DOWN)}static getExpectedLiquidityAmount(e,t,r,n,i){if(r.isZero()&&n.isZero()&&i.isZero()){const r=e.multipliedBy(t).sqrt().integerValue(fs.ROUND_DOWN).minus(1e3);if(r.isGreaterThan(this.U64_MAX))throw new Error("U64 overflow");return r}const s=i.multipliedBy(e).dividedBy(r).integerValue(fs.ROUND_DOWN),o=i.multipliedBy(t).dividedBy(n).integerValue(fs.ROUND_DOWN);if(s.isLessThan(o)){if(s.isGreaterThan(this.U64_MAX))throw new Error("U64 overflow");return s}if(o.isGreaterThan(this.U64_MAX))throw new Error("U64 overflow");return o}static getAmountOut(e,t,r,n){if(e.isZero(),e.isGreaterThan(this.MAX_FEE_RATE))throw new Error("Invalid fee rate");if(t.isZero())throw new Error("Zero amount");if(r.isZero()||n.isZero())throw new Error("Reserves empty");const i=this.FEE_SCALE.minus(e),s=t.multipliedBy(i),o=r.multipliedBy(this.FEE_SCALE).plus(s),a=s.multipliedBy(n).dividedBy(o).integerValue(fs.ROUND_DOWN);if(a.isGreaterThan(this.U64_MAX))throw new Error("U64 overflow");return a}static getAmountIn(e,t,r,n){if(e.isGreaterThan(this.MAX_FEE_RATE))throw new Error("Invalid fee rate");if(t.isZero())throw new Error("Zero amount");if(r.isZero()||n.isZero())throw new Error("Reserves empty");const i=this.FEE_SCALE.minus(e),s=r.multipliedBy(t).multipliedBy(this.FEE_SCALE),o=n.minus(t).multipliedBy(i),a=s.dividedBy(o).integerValue(fs.ROUND_DOWN).plus(1);if(a.isGreaterThan(this.U64_MAX))throw new Error("U64 overflow");return a}static assertLpValueIsIncreased(e,t,r,n){if(e.multipliedBy(t).isGreaterThan(r.multipliedBy(n)))throw new Error("Incorrect swap")}}const Ks=.05,Ys="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI";class Zs{client;options;constructor(e){this.options=e,this.client=new Fi({url:e.suiRpc})}get optionsField(){return this.options}async buildAddLiquidityTx(e,t){try{if(t.amountX.lte(0)||t.amountY.lte(0))throw new Error("Amount must be greater than 0");const r=t.slippage||Ks;if(r>=1)throw new Error("Slippage must be less than 100%");let[n,i]=Xs(t.typeX,t.typeY),s=n!==t.typeX;if(t.typeX=n,t.typeY=i,s){const e=t.amountX;t.amountX=t.amountY,t.amountY=e}const o=await this.getPool(t.pooId);if(!o.status||!o.data)throw new Error("Failed to get pool info");const a=o.data,[u,c]=Hs.calcOptimalCoinValues(new fs(t.amountX),new fs(t.amountY),new fs(a.bal_x.toString()),new fs(a.bal_y.toString()));let l=Hs.getExpectedLiquidityAmount(u,c,new fs(a.bal_x.toString()),new fs(a.bal_y.toString()),new fs(a.lp_supply.toString())),h=new fs(a.min_add_liquidity_lp_amount.toString());if(l.lt(h))throw new Error(`add liquidity too little, expectedLp:${l} is less than min_add_liquidity_lp_amount:${h}`);const d=u.multipliedBy(1-r).integerValue(fs.ROUND_DOWN).toNumber(),f=c.multipliedBy(1-r).integerValue(fs.ROUND_DOWN).toNumber(),p=new Ii;let g,y;return t.typeX===Ys?(p.setSender(e),g=Di({balance:t.amountX.toNumber(),type:t.typeX,useGasCoin:!0})):g=await this.splitCoin(e,t.typeX,t.amountX,p),t.typeY===Ys?(p.setSender(e),y=Di({balance:t.amountY.toNumber(),type:t.typeY,useGasCoin:!0})):y=await this.splitCoin(e,t.typeY,t.amountY,p),p.moveCall({target:`${this.options.packageId}::router::add_liquidity`,arguments:[p.object(this.options.globalId),p.object(t.pooId),g,p.pure.u64(d),y,p.pure.u64(f)],typeArguments:[t.typeX,t.typeY]}),p}catch(e){throw new Error(Fs(e))}}async addLiquidity(e,t){try{const r=await this.buildAddLiquidityTx(e.getPublicKey().toSuiAddress(),t);return{txId:(await this.client.signAndExecuteTransaction({signer:e,transaction:r})).digest,status:!0}}catch(e){return{txId:"",status:!1,error:Fs(e)}}}async buildRemoveLiquidityTx(e,t){try{if(t.removeLpAmount.lte(0))throw new Error("Amount must be greater than 0");const r=t.slippage||Ks;if(r>=1)throw new Error("Slippage must be less than 100%");let[n,i,s]=function(e,t,r){const[n,i]=Xs(t,r);return[n,i,`${e}::manage::LP<${n}, ${i}>`]}(this.options.packageId,t.typeX,t.typeY);t.typeX=n,t.typeY=i;const o=await this.getPool(t.pooId);if(!o.status||!o.data)throw new Error("Failed to get pool info");const a=o.data;let u=fs(a.min_add_liquidity_lp_amount.toString()).div(10);if(t.removeLpAmount.lt(u))throw new Error(`removeLpAmount:${t.removeLpAmount} is less than min_remove_liquidity_lp_amount:${u}`);const c=new Ii;let l=await this.getMergedCoin(this.client,e,s,t.removeLpAmount,c),h=Hs.mulDiv(fs(a.bal_x.toString()),t.removeLpAmount,fs(a.lp_supply.toString())),d=Hs.mulDiv(fs(a.bal_y.toString()),t.removeLpAmount,fs(a.lp_supply.toString())),f=h.multipliedBy(1-r).integerValue(fs.ROUND_DOWN).toNumber(),p=d.multipliedBy(1-r).integerValue(fs.ROUND_DOWN).toNumber();return c.moveCall({target:`${this.options.packageId}::router::remove_liquidity`,arguments:[c.object(this.options.globalId),c.object(t.pooId),l,c.pure.u64(t.removeLpAmount.toNumber()),c.pure.u64(f),c.pure.u64(p)],typeArguments:[t.typeX,t.typeY]}),c}catch(e){throw new Error(Fs(e))}}async removeLiquidity(e,t){try{const r=await this.buildRemoveLiquidityTx(e.getPublicKey().toSuiAddress(),t);return{txId:(await this.client.signAndExecuteTransaction({signer:e,transaction:r})).digest,status:!0}}catch(e){return{txId:"",status:!1,error:Fs(e)}}}async buildSwapExactXToYTx(e,t){try{if(!t.amountIn||t.amountIn.lte(0))throw new Error("amountIn must be greater than 0");const r=t.slippage||Ks;if(r>=1)throw new Error("Slippage must be less than 100%");const n=await this.getPool(t.pooId);if(!n.status||!n.data)throw new Error("Failed to get pool info");const i=n.data;let[s,o]=Xs(t.typeX,t.typeY),a=s!==t.typeX,u=a?i.bal_y:i.bal_x,c=a?i.bal_x:i.bal_y;let l=Hs.getAmountOut(fs(i.fee_rate.toString()),t.amountIn,fs(u.toString()),fs(c.toString())).multipliedBy(1-r).integerValue(fs.ROUND_DOWN).toNumber(),h=a?"swap_exact_y_to_x":"swap_exact_x_to_y";const d=new Ii;let f;return t.typeX===Ys?(d.setSender(e),f=Di({balance:t.amountIn.toNumber(),type:t.typeX,useGasCoin:!0})):f=await this.splitCoin(e,t.typeX,t.amountIn,d),d.moveCall({target:`${this.options.packageId}::router::${h}`,arguments:[d.object(this.options.globalId),d.object(t.pooId),f,d.pure.u64(l)],typeArguments:[s,o]}),d}catch(e){throw new Error(Fs(e))}}async swapExactXToY(e,t){try{const r=await this.buildSwapExactXToYTx(e.getPublicKey().toSuiAddress(),t);return{txId:(await this.client.signAndExecuteTransaction({signer:e,transaction:r})).digest,status:!0}}catch(e){return{txId:"",status:!1,error:Fs(e)}}}async buildSwapXToExactYTx(e,t){try{if(!t.amountOut||t.amountOut.lte(0))throw new Error("amountOut must be greater than 0");const r=t.slippage||Ks;if(r>=1)throw new Error("Slippage must be less than 100%");const n=await this.getPool(t.pooId);if(!n.status||!n.data)throw new Error("Failed to get pool info");const i=n.data;let[s,o]=Xs(t.typeX,t.typeY),a=s!==t.typeX,u=a?i.bal_y:i.bal_x,c=a?i.bal_x:i.bal_y;let l=Hs.getAmountIn(fs(i.fee_rate.toString()),t.amountOut,fs(u.toString()),fs(c.toString())).dividedBy(1-r).integerValue(fs.ROUND_DOWN),h=a?"swap_y_to_exact_x":"swap_x_to_exact_y";const d=new Ii;let f;return t.typeX===Ys?(d.setSender(e),f=Di({balance:l.toNumber(),type:t.typeX,useGasCoin:!0})):f=await this.splitCoin(e,t.typeX,l,d),d.moveCall({target:`${this.options.packageId}::router::${h}`,arguments:[d.object(this.options.globalId),d.object(t.pooId),f,d.pure.u64(t.amountOut.toNumber())],typeArguments:[s,o]}),d}catch(e){throw new Error(Fs(e))}}async swapXToExactY(e,t){try{const r=await this.buildSwapXToExactYTx(e.getPublicKey().toSuiAddress(),t);return{txId:(await this.client.signAndExecuteTransaction({signer:e,transaction:r})).digest,status:!0}}catch(e){return{txId:"",status:!1,error:Fs(e)}}}async getPool(e){try{const t=await async function(e,t){try{const r=await e.getObject({id:t,options:{showContent:!0,showBcs:!0,showType:!0}}),n=r.data?.bcs;if(!n||"moveObject"!==n.dataType)return null;const i=n.bcsBytes,s=new Ms({genericSeparators:["<",">"],vectorType:"vector",addressLength:32,addressEncoding:"hex"});s.registerStructType("Pool",{id:Ms.ADDRESS,bal_x:Ms.U64,bal_y:Ms.U64,fee_bal_x:Ms.U64,fee_bal_y:Ms.U64,lp_supply:Ms.U64,fee_rate:Ms.U64,min_liquidity:Ms.U64,min_add_liquidity_lp_amount:Ms.U64});const o=Uint8Array.from(Vs.Buffer.from(i||"","base64"));let a=s.de("Pool",o);return a.id=qs(a.id),a}catch(e){return null}}(this.client,e);if(!t)throw new Error("Pool not found");return{status:!0,data:t}}catch(e){return{status:!1,error:Fs(e)}}}async getGlobal(){try{const e=await async function(e,t){try{const r=await e.getObject({id:t,options:{showContent:!0,showBcs:!0,showType:!0}}),n=r.data?.bcs;if(!n||"moveObject"!==n.dataType)return null;const i=n.bcsBytes,s=new Ms({genericSeparators:["<",">"],vectorType:"vector",addressLength:32,addressEncoding:"hex"});s.registerStructType("Global",{id:Ms.ADDRESS,has_paused:Ms.BOOL,is_open_protocol_fee:Ms.BOOL});const o=Uint8Array.from(Vs.Buffer.from(i||"","base64"));let a=s.de("Global",o);return a.id=qs(a.id),a}catch(e){return null}}(this.client,this.options.globalId);if(!e)throw new Error("Global config not found");return{status:!0,data:e}}catch(e){return{status:!1,error:Fs(e)}}}async getPoolId(e,t){try{let r=function(e,t){const[r,n]=Xs(e,t);return`LP-${r.startsWith("0x")?r.slice(2):r}-${n.startsWith("0x")?n.slice(2):n}`}(e,t);const n=await this.client.getDynamicFieldObject({parentId:this.options.registedPoolsId,name:{type:"0x1::string::String",value:r}});if(n.data?.content&&"moveObject"===n.data.content.dataType){const e=n.data.content.fields;if(e.name===r)return e.value}throw new Error("Pool not found")}catch(e){throw new Error(Fs(e))}}async splitCoin(e,t,r,n){try{const i=await this.client.getCoins({owner:e,coinType:t});if(!i||0===i.data.length)throw new Error(`no ${t} coins available`);let s=[],o=fs(0);for(const e of i.data)if(s.push(e.coinObjectId),o=o.plus(fs(e.balance)),o.gte(r))break;if(0===s.length||o.lt(r))throw new Error(`${t} balance is not enough, current total balance:${o}`);s.length>1&&n.mergeCoins(n.object(s[0]),s.slice(1).map(e=>n.object(e)));const[a]=n.splitCoins(n.object(s[0]),[n.pure.u64(r.toNumber())]);return a}catch(e){throw new Error(Fs(e))}}async getMergedCoin(e,t,r,n,i){try{const s=await e.getCoins({owner:t,coinType:r});if(!s||0===s.data.length)throw new Error(`no ${r} coins available`);let o=[],a=fs(0);for(const e of s.data)if(o.push(e.coinObjectId),a=a.plus(fs(e.balance)),a.gte(n))break;if(0===o.length||a.lt(n))throw new Error(`${r} balance is not enough, current total balance:${a}`);return o.length>1&&i.mergeCoins(i.object(o[0]),o.slice(1).map(e=>i.object(e))),i.object(o[0])}catch(e){throw new Error(Fs(e))}}async buildTransferTx(e,t){try{if(!t.to||!t.coinType||!t.amount)throw new Error("Recipient address, coin type and amount are required");if(t.amount.lte(0))throw new Error("Transfer amount must be greater than 0");const r=new Ii;r.setSender(e);const n=Di({balance:t.amount.toNumber(),type:t.coinType,useGasCoin:!0});return r.transferObjects([n],r.pure.address(t.to)),r}catch(e){throw new Error(Fs(e))}}async transfer(e,t){try{const r=await this.buildTransferTx(e.getPublicKey().toSuiAddress(),t);return{txId:(await this.client.signAndExecuteTransaction({signer:e,transaction:r})).digest,status:!0}}catch(e){return{txId:"",status:!1,error:Fs(e)}}}}const Js={suiRpc:$("mainnet"),packageId:"0xdae28ab9ab072c647c4e8f2057a8f17dcc4847e42d6a8258df4b376ae183c872",globalId:"0x935229a3c32399e9fb207ec8461a54f56c6af5744c64442435ac217ab28f0d59",registedPoolsId:"0x55c65b7b67b0ccdf28e13b3b6d204e859dd19556603e3b94137a19306a7254d8"};function Qs(e){e&&(Js.suiRpc=e);return new Zs(Js)}const eo={suiRpc:$("testnet"),packageId:"0x3f52d00499d65dd41602c1cd190cf6771b401ae328d46a172473a7f47be6f83f",globalId:"0xe3d52d484e158f164a8650cfd5c8406b545f7e724f70ad40f3747dd6dc39b3c5",registedPoolsId:"0x52523bbaac35485a1e79c9b46f6b8f53e98ebc17b317695622cb37dbbab46b67"};function to(e){e&&(eo.suiRpc=e);return new Zs(eo)}exports.DipCoinSDK=Zs,exports.dipCoinMainnet=Js,exports.dipCoinTestnet=eo,exports.initDipCoinSDK=function(e){const{network:t,customRpc:r}=e;return"mainnet"===t?Qs(r):to(r)},exports.initMainnetSDK=Qs,exports.initTestnetSDK=to;
//# sourceMappingURL=index.cjs.js.map
